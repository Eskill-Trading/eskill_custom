[
 {
  "align_labels_right": 0,
  "css": "@font-face {\n\tfont-family: DaxlinePro;\n\tfont-style: normal;\n\tfont-weight: 300;\n\tsrc: url(/fonts/DaxlinePro.ttf);\n}\n\n@font-face {\n\tfont-family: Neuropol;\n\tfont-style: normal;\n\tfont-weight: 300;\n\tsrc: url(/fonts/NeuropolXRG.ttf);\n}\n\n.print-format { \n    padding: 0mm !important;\n    font-family: 'DaxlinePro';\n}\n\nbody, p, span, div, element {\n    color: #474c51;\n    letter-spacing: normal !important;\n}\n\n#header-image {\n    background-image: url(/files/Eskill_Header.jpg);\n    display: table;\n    width: 100%;\n    background-size: 211mm;\n    background-repeat: no-repeat;\n    height: 18mm;\n    background-position: left top;\n    padding-top: 7mm !important;\n}\n\n#print-heading {\n    font-size: 18pt;\n    font-weight: bold;\n    line-height: 1;\n    padding: 0mm !important;\n    margin-top: 4mm !important;\n    margin-right: 6mm !important;\n    margin-bottom: 8mm !important;\n    text-align: right;\n}\n\n.section {\n    margin-left: 7mm;\n    margin-right: 7mm;\n    display: table;\n    border-collapse: separate;\n    border-spacing: 1mm;\n    width: 197mm !important;\n    border-bottom: 1px solid black;\n    padding-bottom: 10mm;\n}\n\n.layout-div {\n    margin: 0 !important;\n    padding: 0 !important;\n    display: table-cell;\n    vertical-align: top;\n    padding-top: 10mm;\n}\n\n.black-box {\n    border: 1px solid #474c51;\n    border-radius: 3px;\n    padding: 0.5mm;\n    width: auto;\n    height: auto;\n    min-height: 12mm;\n    display: table-cell;\n}\n\n#product-info {\n    width: 117mm;\n}\n\n#warranty-status {\n    margin: 4px 0px;\n}\n\n.under-warranty {\n    background-color: green;\n    border-radius: 4px;\n    color: white;\n    font-size: 12px;\n    padding: 2px 6px;\n    margin: 4px;\n}\n\n.not-under-warranty {\n    background-color: red;\n    border-radius: 4px;\n    color: white;\n    font-size: 12px;\n    padding: 2px 6px;\n    margin: 4px;\n}\n\n.expires-today {\n    background-color: orange;\n    border-radius: 4px;\n    color: white;\n    font-size: 12px;\n    padding: 2px 6px;\n    margin: 4px;\n}\n\n.expiry-unknown {\n    background-color: black;\n    border-radius: 4px;\n    color: white;\n    font-size: 12px;\n    padding: 2px 6px;\n    margin: 4px;\n}\n\n#product-status, #warranty-period, #product-warehouse {\n    margin-bottom: 1mm;\n}\n\n#product-image {\n    width: 80mm;\n    text-align: right;\n}\n\nh1 {\n    font-family: Neuropol;\n    font-size: 16px;\n    font-weight: bold;\n    letter-spacing: 1px;\n}\n\nh2 {\n    font-family: Neuropol;\n    font-size: 12px;\n    font-weight: bold;\n    letter-spacing: 4px;\n}\n\n#footer-text {\n    width: 100%;\n    text-align: center;\n}\n\n.layout-table {\n    width: 197mm;\n}\n.layout-row {\n    border-bottom: 0.5px dotted #ffbc1f;\n}\n\n#date-cell {\n    border-right: 4px solid #ffbc1f;\n    width: 30mm;\n    text-align: right;\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Serial No",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "format_data": null,
  "html": "{% macro pageheader() %}\n\n<div id=\"header-image\" class=\"layout-div\">\n    <div id=\"print-heading\">\n        Serial Number Report\n    </div>\n</div>\n\n{% endmacro %}\n\n{% macro pagefooter() %}\n<div id=\"footer-text\">\n    Report Generated on {{ frappe.utils.formatdate(frappe.utils.today(), 'dd-MM-YYYY') }} by {{ frappe.user }}\n</div>\n\n{% endmacro %}\n\n{% set output_line = namespace(value=[]) %}\n{% set installed = namespace(components=[]) %}\n\n\n\n\n\n{{ pageheader() }}\n\n<div class=\"section\">\n    <div class=\"layout-div\" id=\"product-info\">\n        <h1>{{doc.item_name }}</h1><h2>{{ doc.serial_no }}</h2>\n        <p id=\"product-status\">Status: {{ doc.status }}</p>\n        {% if doc.warehouse %}\n            {% set current_warehouse = frappe.get_doc(\"Warehouse\", doc.warehouse) %}\n            <p id=\"product-warehouse\">Location: {{ current_warehouse.warehouse_name }}</p>\n        {% endif %}\n        {% if doc.warranty_period %}<p id=\"warranty-period\">Warranty Period: {{ doc.warranty_period }} days</p>{% else %}Warranty Period: Not Specified{% endif %}\n        {% if doc.status == \"Delivered\" %}\n\n            {% if doc.warranty_expiry_date %}\n                {% set date_difference = frappe.utils.date_diff(doc.warranty_expiry_date,frappe.utils.today()) %}\n                {% if date_difference >= 0 %}Days remaining: {{ date_difference }}{% endif %}\n            {% endif %}\n            {% if doc.warranty_expiry_date and date_difference < 0 %}\n                <p id=\"warranty-status\">Warranty expired on {{ frappe.utils.formatdate(doc.warranty_expiry_date) }}</p>\n                <p><span class=\"not-under-warranty\">Not Under Warranty</span></p>\n            {% elif doc.warranty_expiry_date and date_difference > 0 %}\n                <p id=\"warranty-status\">Warranty expires on {{ frappe.utils.formatdate(doc.warranty_expiry_date) }}</p>\n                <p><span class=\"under-warranty\">Under Warranty</span></p>\n            {% elif doc.warranty_expiry_date and date_difference == 0 %}\n                <p id=\"warranty-status\">Warranty expires on {{ frappe.utils.formatdate(doc.warranty_expiry_date) }}</p>\n                <p><span class=\"expires-today\">Warranty Expires Today</span></p>\n            {% else %}\n                <p id=\"warranty-status\">Warranty expiry date not specified</p>\n                <p><span class=\"expiry-unknown\">Unknown</span></p>\n            {% endif %}\n        {% endif %}\n        \n    </div>\n    {% set thisproduct = frappe.get_doc(\"Item\", doc.item_code) %}\n    {% if thisproduct.image %}\n        <div id=\"product-image\">\n            {% set display_image = '<img src=\\\"' ~ thisproduct.image ~ '\\\" style=\\\"max-width: 200px; max-height: 200px;\\\">' | safe %}\n            {{ display_image }}\n        </div>\n    {% endif %}\n</div>\n<div class=\"section\">\n    <h2>Product History</h2>\n\n        {# Get from Purchase Receipts #}\n        \n        {% set purchase_receipt_items = frappe.get_all('Purchase Receipt Item', filters=[['serial_no', 'like', '%'~doc.serial_no~'%']], fields=['name','docstatus','parent','qty','warehouse']) %}\n\n        {% for pr_item in purchase_receipt_items %}\n            {% set thispr = frappe.get_doc(\"Purchase Receipt\", pr_item.parent) %}\n            {% if thispr.docstatus != 2 and thispr.docstatus != 0 %}\n                {% set textline %}\n                    {% if not thispr.is_return %}\n                        Received from {{ thispr.supplier_name }} on {{ pr_item.parent }}\n                        {% if pr_item.project %}, linked to project \"{{ pr_item.project }}\"{% endif %}\n                        {% if pr_item.qty == 1 %}, and was the only unit of this model.{% else %}, and was 1 of {{ pr_item.qty | int }} units of this model.{% endif %}\n                        {% if pr_item.warehouse %}\n                            {% set dest_warehouse = frappe.get_doc(\"Warehouse\", pr_item.warehouse) %}\n                            It was received into {{ dest_warehouse.warehouse_name }}.\n                        {% endif %}\n                    {% else %}\n                        Returned to {{ thispr.supplier_name }} on {{ pr_item.parent }}\n                        {% if pr_item.warehouse %}\n                            {% set source_warehouse = frappe.get_doc(\"Warehouse\", pr_item.warehouse) %}\n                            , leaving from {{ source_warehouse.warehouse_name }}.\n                        {% else %}\n                            .\n                        {% endif %}            \n                    {% endif %}\n                {% endset %}\n                {% set output_line.value = output_line.value + [{'date': frappe.utils.formatdate(frappe.utils.get_datetime(thispr.posting_date), 'yyyy-MM-dd'), 'desc': textline }] %}            \n            {% endif %}\n        {% endfor %}\n\n        \n        {# Get from Stock Entries #}\n        \n        {% set stock_entry_details = frappe.get_all('Stock Entry Detail', filters=[['serial_no', 'like', '%'~doc.serial_no~'%']], fields=['name','docstatus','parent','qty','s_warehouse','t_warehouse','project']) %}\n        {% for se_detail in stock_entry_details %}\n            {% set thisse = frappe.get_doc(\"Stock Entry\", se_detail.parent) %}\n            {% if thisse.docstatus != 2 and thisse.docstatus != 0 %}\n                {% set textline %}\n                    {% if se_detail.s_warehouse %}{% set source_warehouse = frappe.get_doc(\"Warehouse\", se_detail.s_warehouse) %}{% endif %}\n                    {% if se_detail.t_warehouse %}{% set dest_warehouse = frappe.get_doc(\"Warehouse\", se_detail.t_warehouse) %}{% endif %}\n                    {% if se_detail.s_warehouse and se_detail.t_warehouse %}\n                        Unit was transferred from {{ source_warehouse.warehouse_name }} to {{ dest_warehouse.warehouse_name }} on {{ se_detail.parent }}\n                        {% if thisse.project %}\n                            , linked to project \"{{ thisse.project }}\"\n                        {% elif not thisse.project and se_detail.project %}\n                            , linked to project \"{{ se_detail.project }}\"\n                        {% endif %}\n                        {% if se_detail.qty == 1 %}, and was the only unit of this model moved.{% else %}, and was 1 of {{ se_detail.qty | int }} units of this model moved.{% endif %}                    \n                    {% elif se_detail.s_warehouse and not se_detail.t_warehouse %}\n                       Delivered from {{ source_warehouse.warehouse_name }} on stock entry {{ se_detail.parent }}.\n                    {% elif se_detail.t_warehouse and not se_detail.s_warehouse %}\n                       Received into {{ dest_warehouse.warehouse_name }} on stock entry {{ se_detail.parent }}.\n                    {% endif %}\n                {% endset %}\n                {% set output_line.value = output_line.value + [{'date': frappe.utils.formatdate(frappe.utils.get_datetime(thisse.posting_date), 'yyyy-MM-dd'), 'desc': textline }] %}            \n            {% endif %}\n        {% endfor %}\n        \n        \n        {# Get from Delivery Notes #}\n        \n        {% set delivery_note_items = frappe.get_all('Delivery Note Item', filters=[['serial_no', 'like', '%'~doc.serial_no~'%']], fields=['name','docstatus','parent','qty','warehouse','reason_for_return']) %}\n\n        {% for dnote_item in delivery_note_items %}\n            {% set thisdnote = frappe.get_doc(\"Delivery Note\", dnote_item.parent) %}\n            {% if thisdnote.docstatus != 2 and thisdnote.status != 0 %}\n                {% if not thisdnote.is_return %}\n                    {% set textline %}\n                        Delivered to {{ thisdnote.customer_name }} on {{ dnote_item.parent }}\n                        {% if thisdnote.project %}, linked to project \"{{ thisdnote.project }}\"{% endif %}\n                        {% if dnote_item.qty == 1 %}, and was the only unit of this model.{% else %}, and was 1 of {{ dnote_item.qty | int }} units of this model.{% endif %}\n                        {% if dnote_item.warehouse %}\n                            {% set source_warehouse = frappe.get_doc(\"Warehouse\", dnote_item.warehouse) %}\n                            Delivery was made from {{ source_warehouse.warehouse_name }}.\n                        {% endif %}\n                    {% endset %}\n                {% else %}\n                    {% set textline %}\n                        Returned by {{ thisdnote.customer_name }} on {{ dnote_item.parent }}\n                        {% if dnote_item.warehouse %}\n                            {% set dest_warehouse = frappe.get_doc(\"Warehouse\", dnote_item.warehouse) %}\n                            , received into location {{ dest_warehouse.warehouse_name }}.\n                        {% else %}\n                            .\n                        {% endif %}  \n                        {% if dnote_item.reason_for_return %} Reason given for return: \"{{ dnote_item.reason_for_return }}\".{% endif %}\n                    {% endset %}\n                {% endif %}\n                {% set output_line.value = output_line.value + [{'date': frappe.utils.formatdate(frappe.utils.get_datetime(thisdnote.posting_date), 'yyyy-MM-dd'), 'desc': textline }] %}            \n            {% endif %}\n        {% endfor %}        \n\n\n        {# Get from Stock Recons positive #}\n        \n        {% set stock_recon_items = frappe.get_all('Stock Reconciliation Item', filters=[['serial_no', 'like', '%'~doc.serial_no~'%']], fields=['name','docstatus','parent','warehouse']) %}\n\n        {% for sr_item in stock_recon_items %}\n            {% set thissr = frappe.get_doc(\"Stock Reconciliation\", sr_item.parent) %}\n            {% if thissr.docstatus != 2 and thissr.docstatus != 0 %}\n                {% if sr_item.warehouse %}{% set dest_warehouse = frappe.get_doc(\"Warehouse\", sr_item.warehouse) %}{% endif %}\n                    {% if thissr.purpose == \"Opening Stock\" %}\n                        {% set textline %}\n                            Brought into {% if dest_warehouse.warehouse_name %}{{ dest_warehouse.warehouse_name }}{% else %}unknown location{% endif %} as opening stock, on stock reconciliation {{ sr_item.parent }}.\n                        {% endset %}\n                    {% else %}\n                        {% set textline %}\n                            Confirmed in stock, in {% if dest_warehouse.warehouse_name %}{{ dest_warehouse.warehouse_name }}{% else %}unknown location{% endif %}, on stock reconciliation {{ sr_item.parent }}.\n                        {% endset %}\n                    {% endif %}\n                {% set output_line.value = output_line.value + [{'date': frappe.utils.formatdate(frappe.utils.get_datetime(thissr.posting_date), 'yyyy-MM-dd'), 'desc': textline }] %}\n            {% endif %}\n        {% endfor %} \n        \n        {# Get from Stock Recons negative #}\n        \n        {% set stock_recon_items = frappe.get_all('Stock Reconciliation Item', filters={'current_serial_no': ['like', '%'~doc.serial_no~'%'],'serial_no': ['not like', '%'~doc.serial_no~'%']}, fields=['name','docstatus','parent','warehouse']) %}\n\n        {% for sr_item in stock_recon_items %}\n            {% set thissr = frappe.get_doc(\"Stock Reconciliation\", sr_item.parent) %}\n            {% if thissr.docstatus != 2 and thissrdoc.status != 0 %}\n                {% if sr_item.warehouse %}{% set dest_warehouse = frappe.get_doc(\"Warehouse\", sr_item.warehouse) %}{% endif %}\n                {% set textline %}\n                    Removed from {% if dest_warehouse.warehouse_name %}{{ dest_warehouse.warehouse_name }}{% else %}unknown location{% endif %}, on stock reconciliation {{ sr_item.parent }}.\n                {% endset %}\n                                {% set output_line.value = output_line.value + [{'date': frappe.utils.formatdate(frappe.utils.get_datetime(thissr.posting_date), 'yyyy-MM-dd'), 'desc': textline }] %}  \n            {% endif %}\n        {% endfor %} \n        \n\n        {# Get from Issues #}\n        \n        {% set issues = frappe.get_all('Issue', filters={'serial_number': ['like', '%'~doc.serial_no~'%']}, fields=['name','subject','technician_name','customer','opening_date','service_level_agreement']) %}\n\n        {% for issue in issues %}\n            {% set textline %}\n                Issue {{ issue.name }} was raised {% if issue.customer %}by {{ issue.customer }}{% else %}internally{% endif %}, with subject \"{{ issue.subject }}\". \n                {% if issue.technician_name and issue.service_level_agreement %}\n                    It was attended to by {{ issue.technician_name }} under {{ issue.service_level_agreement }}.\n                {% elif issue.technician_name and not issue.service_level_agreement and issue.customer %}\n                    It was attended to by {{ issue.technician_name }}, and was not covered under any SLA.\n                {% elif issue.technician_name and not issue.service_level_agreement and not issue.customer %}\n                    It was attended to by {{ issue.technician_name }}.                \n                {% elif not issue.technician_name and issue.service_level_agreement %}\n                    It was covered under {{ issue.service_level_agreement }}, but no technician was listed under the issue.\n                {% else %}\n                    No technician was listed under the issue, and the device was not covered under any SLA.\n                {% endif %}\n            {% endset %}\n            {% set output_line.value = output_line.value + [{'date': frappe.utils.formatdate(frappe.utils.get_datetime(issue.opening_date), 'yyyy-MM-dd'), 'desc': textline }] %}  \n        {% endfor %}         \n\n        {# Get from Warranty Claims #}\n        \n        {% set warranty_claims = frappe.get_all('Warranty Claim', filters={'serial_no': ['like', '%'~doc.serial_no~'%']}, fields=['name','docstatus','serial_no','complaint_date','complaint']) %}\n\n        {% for wc_item in warranty_claims %}\n            {% if wc_item.docstatus != 2 %}\n                {% set textline %}\n                    Warranty claim {{ wc_item.name }} was raised: {{ wc_item.complaint }}\n                {% endset %}\n                {% set output_line.value = output_line.value + [{'date': frappe.utils.formatdate(frappe.utils.get_datetime(wc_item.complaint_date), 'yyyy-MM-dd'), 'desc': textline }] %}  \n            {% endif %}\n        {% endfor %}\n\n\n        {# Get from Warranty Swap Outs coming in #}\n        \n        {% set warranty_swap_outs = frappe.get_all('Warranty Swap Out', filters={'serial_no_in': ['like', '%'~doc.serial_no~'%']}, fields=['name','docstatus','serial_no_in','date','issue','customer','warranty_claim','serial_no_out']) %}\n\n        {% for wso_item in warranty_swap_outs %}\n            {% if wso_item.docstatus != 2 and wso_item.docstatus != 0 %}\n                {% set textline %}\n                    Warranty swap out {{ wso_item.name }} was done, with {{ wso_item.serial_no_in }} being returned \n                    and {{ wso_item.serial_no_out }} issued as a replacement\n                    {% if wso_item.customer %} to {{ wso_item.customer }}.{% else %}.{% endif %}\n                    {% if wso_item.issue %} Linked to {{ wso_item.issue }}.{% endif %}\n                    {% if wso_item.warranty_claim %} Linked to {{ wso_item.warranty_claim }}.{% endif %}\n                {% endset %}\n                {% set output_line.value = output_line.value + [{'date': frappe.utils.formatdate(frappe.utils.get_datetime(wso_item.date), 'yyyy-MM-dd'), 'desc': textline }] %}  \n            {% endif %}\n        {% endfor %}         \n\n\n        {# Get from Warranty Swap Outs going out #}\n        \n        {% set warranty_swap_outs = frappe.get_all('Warranty Swap Out', filters={'serial_no_out': ['like', '%'~doc.serial_no~'%']}, fields=['name','docstatus','serial_no_in','date','issue','customer','warranty_claim','serial_no_out']) %}\n\n        {% for wso_item in warranty_swap_outs %}\n            {% if wso_item.docstatus != 2 and wso_item.docstatus != 0 %}\n                {% set textline %}\n                    Warranty swap out {{ wso_item.name }} was done, with {{ wso_item.serial_no_in }} being returned \n                    and {{ wso_item.serial_no_out }} issued as a replacement\n                    {% if wso_item.customer %} to {{ wso_item.customer }}.{% else %}.{% endif %}\n                    {% if wso_item.issue %} Linked to {{ wso_item.issue }}.{% endif %}\n                    {% if wso_item.warranty_claim %} Linked to {{ wso_item.warranty_claim }}.{% endif %}\n                {% endset %}\n                {% set output_line.value = output_line.value + [{'date': frappe.utils.formatdate(frappe.utils.get_datetime(wso_item.date), 'yyyy-MM-dd'), 'desc': textline }] %}  \n            {% endif %}\n        {% endfor %}\n        \n        {# Get from Component History (as component) #}\n        \n        {% set component_history = frappe.get_all('Component History', filters=[['serial_no', 'like', '%'~doc.serial_no~'%']], fields=['name','date','docstatus','parent','action']) %}\n\n        {% for ch_item in component_history %}\n            {% set thisparent = frappe.get_doc(\"Serial No\", ch_item.parent) %}\n                {% set textline %}\n                    {% if ch_item.action == \"Installed\" %}\n                        Installed as component in {{ thisparent.item_name }} with serial number {{ thisparent.name }}. \n                    {% elif ch_item.action == \"Uninstalled\" %}\n                        Uninstalled as component from {{ thisparent.item_name }} with serial number {{ thisparent.name }}.           \n                    {% endif %}\n                {% endset %}\n                {% set output_line.value = output_line.value + [{'date': frappe.utils.formatdate(frappe.utils.get_datetime(ch_item.date), 'yyyy-MM-dd'), 'desc': textline }] %}            \n        {% endfor %}\n        \n        {# Get from Component History (as parent) #}\n        \n        {% set component_history = frappe.get_all('Component History', filters=[['parent', 'like', '%'~doc.serial_no~'%']], fields=['name','date','serial_no','docstatus','parent','action']) %}\n\n        {% for ch_item in component_history %}\n                {% set cserial = frappe.get_doc(\"Serial No\", ch_item.serial_no) %}\n                {% if ch_item.serial_no not in installed.components %}\n                    {% set installed.components = installed.components + [ch_item.serial_no] %}\n                {% endif %}\n                {% set textline %}\n                    {% if ch_item.action == \"Installed\" %}\n                        <span style=\"color: green;\">&#8594;</span> {{ cserial.item_name }} was installed (SN: {{ ch_item.serial_no }}).\n                    {% elif ch_item.action == \"Uninstalled\" %}\n                        <span style=\"color: red;\">&#8592;</span> {{ cserial.item_name }} with serial number {{ ch_item.serial_no }} was <strong>removed</strong>.\n                    {% endif %}\n                {% endset %}\n                {% set output_line.value = output_line.value + [{'date': frappe.utils.formatdate(frappe.utils.get_datetime(ch_item.date), 'yyyy-MM-dd'), 'desc': textline }] %}            \n        {% endfor %}\n        \n        \n    <table class=\"layout-table\">\n        <tbody>\n            {% for tline in output_line.value | sort(attribute='date') %}\n                <tr class=\"layout-row\">\n                    <td class=\"layout-cell\" id=\"date-cell\">\n                        {% if loop.previtem is not defined or loop.previtem.date != tline.date %}\n                            <strong>{{ frappe.utils.formatdate(frappe.utils.get_datetime(tline.date), 'dd-MM-yyyy') }}</strong>\n                        {% endif %}\n                    </td>\n                    <td class=\"layout-cell\">{{ tline.desc }}</td>\n                        \n                </tr>\n            {% endfor %}  \n        </tbody>\n    </table>\n</div>\n\n        {# Final check of what components should be installed #}\n        \n        {% if installed.components %}\n            {% set component_line = namespace(value=[]) %}\n            {% set action_count = namespace(value=0) %}\n            {% for component in installed.components %}\n                {% set thishistory = frappe.get_all('Component History', filters=[['parent', 'like', '%'~doc.serial_no~'%'],['serial_no', '=', component]], fields=['name','date','serial_no','docstatus','parent','action']) %}\n                {% set action_count.value = 0 %}\n                {% for thisitem in thishistory %}\n                    {% if thisitem.action == \"Installed\" %}\n                        {% set action_count.value = action_count.value + 1 %}\n                    {% elif thisitem.action == \"Uninstalled\" %}\n                        {% set action_count.value = action_count.value - 1 %}\n                    {% endif %}\n                {% endfor %}\n\n                {% if action_count.value > 0 %}\n                    {% set cserial = frappe.get_doc(\"Serial No\", component) %}\n                    {% set component_line.value = component_line.value + [{'group': cserial.item_group, 'code': cserial.item_code, 'serial': cserial.serial_no }] %}            \n                {% endif %}\n            {% endfor %}\n\n            <div class=\"section\">\n                <h2>Currently Installed Components</h2>\n                <table class=\"layout-table\">\n                    <tbody>\n                        {% for cline in component_line.value | sort(attribute='group') %}\n                            <tr class=\"layout-row\">\n                                <td class=\"layout-cell\" id=\"date-cell\">\n                                    {% if loop.previtem is not defined or loop.previtem.group != cline.group %}\n                                        <strong>{{ cline.group }}</strong>\n                                    {% endif %}\n                                </td>\n                                <td class=\"layout-cell\">\n                                    {{ cline.code }}\n                                </td>\n                                <td class=\"layout-cell\">\n                                    {{ cline.serial }}\n                                </td>\n                            </tr>\n                        {% endfor %}\n                    </tbody>\n                </table>\n            </div>\n        {% endif %}\n    \n\n\n\n{{ pagefooter() }}",
  "line_breaks": 0,
  "modified": "2020-10-13 10:32:37.542567",
  "module": "Eskill Customisations",
  "name": "Eskill Serial Number History",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "print_format_builder": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "align_labels_right": 0,
  "css": "@font-face {\n\tfont-family: DaxlinePro;\n\tfont-style: normal;\n\tfont-weight: 300;\n\tsrc: url(/fonts/DaxlinePro.ttf);\n}\n\n@font-face {\n\tfont-family: Neuropol;\n\tfont-style: normal;\n\tfont-weight: 300;\n\tsrc: url(/fonts/NeuropolXRG.ttf);\n}\n\n.print-format { \n    padding: 0mm !important;\n    font-family: 'DaxlinePro';\n}\n\nbody, p, span, div, element {\n    color: #474c51;\n    letter-spacing: normal !important;\n}\n\n#header-image {\n    background-image: url(/files/Eskill_Header.jpg);\n    display: table;\n    width: 100%;\n    background-size: 211mm;\n    background-repeat: no-repeat;\n    height: 38mm;\n    background-position: left top;\n    padding-top: 7mm !important;\n}\n\n.layout-table, .layout-row, .layout-div {\n    margin: 0 !important;\n    padding: 0 !important;\n    width: 100% !important;\n}\n\n.layout-cell {\n    margin: 0 !important;\n    padding: 0 !important;\n    height: 100%;\n    vertical-align: top;\n}\n\n\n\n#print-heading {\n    font-size: 18pt;\n    font-weight: bold;\n    line-height: 1;\n    padding: 0mm !important;\n    margin-top: 4mm !important;\n    margin-right: 6mm !important;\n    margin-bottom: 3mm !important;\n    text-align: right;\n}\n\n#company-info-cell {\n    width: 40%;\n}\n\n#company-info {\n    font-size: 8pt;\n    margin-left: 6mm !important;\n}\n\n#project-name-cell {\n    width: 35%;\n    vertical-align: bottom;\n}\n\n#tax-info-cell {\n    width: 25%;\n}\n\n#tax-info {\n    font-size: 8pt;\n    text-align: right;\n    margin-right: 5mm;\n    margin-top: 5mm;\n}\n\n#tax-info p {\n    margin: 0;\n    padding: 0;\n}\n\n#top-info {\n    margin-left: 7mm;\n    margin-right: 7mm;\n}\n\n#middle-section {\n    margin-left: 7mm;\n    margin-right: 7mm;\n}\n\n#middle-section-div {\n    min-height: 12cm;\n    height: 12cm;\n}\n\n#total-section {\n    margin-left: 7mm;\n    margin-right: 7mm;\n    margin-bottom: 1mm;\n    height: 43mm;\n    max-height: 43mm;\n    min-height: 43mm;\n    overflow: hidden;\n}\n\n.black-box {\n    border: 1px solid #474c51;\n    border-radius: 3px;\n    padding: 0.5mm;\n    margin-left: 1mm;\n    margin-bottom: 1mm;\n    width: auto;\n    height: auto;\n    overflow: hidden;\n    min-height: 12mm;\n}\n\n.yellow-box {\n    border: 1px solid #ffbc1f;\n    border-radius: 3px;\n    background-color: #ffbc1f;\n    padding: 0.5mm;\n    margin-left: 1mm;\n    margin-bottom: 1mm;\n    width: auto;\n    height: auto;\n    overflow: hidden;\n    min-height: 12mm;\n}\n\n.yellow-bar {\n    background-color: #ffbc1f;\n    border-radius: 2px;\n    width: 100%;\n    text-align: center;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #252525;\n}\n\n.filled-grey-box {\n    border: 1px solid #cfcfcf;\n    border-radius: 3px;\n    background-color: #cfcfcf;\n    padding: 1mm;\n    margin-left: 1mm;\n    margin-bottom: 1mm;\n    width: auto;\n    height: 12mm;\n    overflow: hidden;\n    min-height: 12mm;\n    max-height: 12mm;\n    color: #000000 !important;\n}\n\n\n.black-bar {\n    border-bottom: 1px solid #252525;\n    width: 100%;\n    text-align: center;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #252525;\n}\n\n.box-content-left {\n    padding: 1mm;\n    font-size: 9pt;\n    text-align: left;\n    overflow: hidden;\n}\n\n.box-content-center {\n    padding: 1mm;\n    font-size: 9pt;\n    text-align: center;\n    overflow: hidden;\n}\n\n.box-content-right {\n    padding: 1mm;\n    font-size: 9pt;\n    text-align: right;\n    overflow: hidden;\n}\n\n#customer-info {\n    width: 65%;\n    padding: 0 !important;\n    height: auto;\n}\n\n#customer {\n    height: 33mm;\n    max-height: 33mm;\n    min-height: 33mm;\n}\n\n#document-info {\n    width: 35%;\n    padding: 0 !important;\n}\n\n#document-number-cell {\n    margin: 0 !important;\n    padding: 0!important;\n    height: 12mm;\n    vertical-align: middle;\n}\n\n#page-cell, #date-cell, #other-number-cell, #exchange-rate-cell, #customer-vat-cell, #customer-ref-cell {\n    margin: 0 !important;\n    padding: 0!important;\n    height: 12mm;\n    vertical-align: middle;\n}\n\n#document-number {\n    font-weight: bold;\n    font-size: 12pt;\n}\n\n#customer-currency-cell {\n    width: 10%;\n    margin: 0 !important;\n    padding: 0!important;\n    height: 12mm;\n    vertical-align: middle;\n}\n\n#salesperson-cell {\n    width: 35%;\n    margin: 0 !important;\n    padding: 0!important;\n    height: 12mm;\n    vertical-align: middle;\n}\n\n#other-number, #customer-currency, #exchange-rate, #customer-vat, #customer-ref, #salesperson {\n    font-weight: normal;\n    font-size: 9pt;\n}\n\n.project-name {\n    padding: 0mm;\n    font-size: 8pt;\n    text-align: center;\n    overflow: hidden;\n    font-weight: bold;\n    vertical-align: middle !important;\n    height: 40px !important;\n    max-height: 40px !important;\n    border-radius: 4px;\n}\n\n#project-text {\n    display: table;\n    float: left;\n    text-align: left;\n}\n\n#project-text p {\n        display: table-cell;\n        vertical-align: middle !important;\n        height: 40px;\n        min-height: 40px;\n        max-height: 40px;\n}\n\n#project-icon {\n    display: inline-block;\n    width: 40px !important;\n    height: 40px !important;\n    max-height: 40px !important;\n    object-fit: none;\n    float: left;\n}\n\n.yellow-head-center {\n    background-color: #ffbc1f;\n    width: 100%;\n    text-align: center;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #2a2a2a;\n    padding: 0 5px 0 5px;\n}\n\n.yellow-head-left {\n    background-color: #ffbc1f;\n    width: 100%;\n    text-align: left;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #2a2a2a;\n    padding: 0 5px 0 5px;\n}\n\n.yellow-head-right {\n    background-color: #ffbc1f;\n    width: 100%;\n    text-align: right;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #2a2a2a;\n    padding: 0 5px 0 5px;\n}\n\n#items {\n    table-layout: fixed;\n}\n\n#item-line { width: 5% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#item-item { width: 16% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#item-description { width: 45% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#item-qty { width: 5% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#item-price { width: 11% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#item-uom { width: 7% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#item-total { width: 11% !important; padding: 0 !important; }\n\n#item-line, #item-item, #item-qty, #item-uom, #item-price, #item-total, #item-description {\n    height: auto;\n}\n\n#item-line div, #item-item div, #item-qty div, #item-uom div, #item-price div, #item-total div { \n    overflow: hidden;\n    max-height: 12pt;\n    height: 12pt;\n}\n\n#item-description div.yellow-head-left, #item-description div.yellow-head-center, #item-description div.yellow-head-right {\n    max-height: 12pt;\n    height: 12pt;\n}\n\n.cell-content-center {\n    width: 100%;\n    text-align: center;\n    line-height: 1.5;\n    font-size: 8pt !important;\n    font-weight: normal;\n    padding: 0 5px 0 5px;\n}\n\n.cell-content-left {\n    width: 100%;\n    text-align: left;\n    line-height: 1.5;\n    font-size: 8pt !important;\n    font-weight: normal;\n    padding: 0 5px 0 5px;\n}\n\n.cell-content-right {\n    width: 100%;\n    text-align: right;\n    line-height: 1.5;\n    font-size: 8pt !important;\n    font-weight: normal;\n    padding: 0 5px 0 5px;\n}\n\n#bank-info-cell {\n    width: 65%;\n    padding: 0 !important;\n}\n\n#bank-info {\n    height:30mm;\n    min-height: 30mm;\n    max-height: 30mm;\n    overflow: hidden;\n}\n\n.bank-account {\n    display: inline;\n    float: left;\n    font-size: 8pt;\n    line-height: 1.2;\n    margin: 1%;\n    width: 23%;\n    color: #252525;\n}\n\n#totals-info-cell {\n    width: 35%;\n    padding: 0 !important;\n}\n\n#totals-info {\n    height: 43mm;\n    max-height: 43mm;\n    min-height: 43mm;\n}\n\n#fiscal-signature {\n    height: 10mm;\n    min-height: 10mm;\n    max-height: 10mm;\n    /* border: 1px dashed #494949; */\n    border-radius: 3px;\n    margin-left: 8mm;\n    margin-right: 7mm;\n    margin-bottom: 10mm;\n}\n\n#footer {\n    display: table;\n    width: 100%;\n    background-image: url(/files/Eskill_Footer.jpg);\n    background-size: 211mm;\n    background-repeat: no-repeat;\n    height: 24mm;\n    background-position: left bottom;\n}\n\n#customer-signature {\n    display: table-cell;\n    vertical-align: bottom;\n    margin: 0;\n    font-size: 8pt;\n}\n\n#customer-signature p {\n    border-top: 1px dotted #000;\n    font-size: 8pt;\n    width: 120mm;\n    margin-left: 20mm;\n    margin-bottom: 6mm;\n    text-align: center;\n    padding-top: 1mm;\n}\n\n.banner120pt {\n    display: table;\n    min-height: 120pt;\n    width: 100%;\n    text-align: center;\n    opacity: 0.2;\n}\n\n.banner240pt {\n    display: table;\n    min-height: 240pt;\n    width: 100%;\n    text-align: center;\n    opacity: 0.2;\n}\n\n#banner {\n    display: table-cell;\n    vertical-align: middle !important;\n}\n\n#banner img {\n    vertical-align: middle !important;\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "format_data": null,
  "html": "{% macro projectsvg(project_colour) %}\n\n    <svg id=\"Layer_1\" style=\"enable-background:new 0 0 512 512; width:35px; height: 35px;\" version=\"1.1\" viewBox=\"0 0 512 512\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><style type=\"text/css\">\n    \t.st0{fill:{{ project_colour }};}\n    \t.st1{fill:#232323;}\n    </style><g id=\"XMLID_174_\"><path class=\"st0\" d=\"M41,315.8c-5.8,0-11.4-1.6-16.4-4.6L6,300v172.5h67.5V297.1l-11,10.2   C56.7,312.8,49,315.8,41,315.8z\" id=\"XMLID_3390_\"/><polygon class=\"st0\" id=\"XMLID_183_\" points=\"143.2,232.4 143.2,472.6 210.8,472.6 210.8,225.5 176.1,201.8  \"/><path class=\"st0\" d=\"M290.2,273.1c-6.4,0-12.6-1.9-17.9-5.5l-13.3-9.1v214h67.5V251.8L311,265.4   C305.2,270.4,297.8,273.1,290.2,273.1z\" id=\"XMLID_182_\"/><polygon class=\"st0\" id=\"XMLID_175_\" points=\"378.5,472.6 446,472.6 446,148 378.5,206.7  \"/><path class=\"st1\" d=\"M401.1,69.3L429,96.4L288.8,217.5l-105.1-71.8c-7.3-5-17.2-4.3-23.7,1.8l-121.6,113L6.1,240.9   v44.4l25.1,15.1c7.3,4.4,16.5,3.4,22.8-2.4l120.9-112.4l104.6,71.5c7.1,4.9,16.7,4.3,23.2-1.3l153.7-132.9l23,22.3L506,39.4   L401.1,69.3z\" id=\"XMLID_498_\"/></g></svg>\n\n{% endmacro %}\n\n{% macro pageheader() %}\n\n<!DOCTYPE html>\n\n<div id=\"header-image\" class=\"layout-div\">\n    \n    {% if doc.grand_total <= 0 %}<div id=\"print-heading\" style=\"color: #ca0000;\">{{ \"CREDIT NOTE\" }}{% else %}<div id=\"print-heading\">{{ \"FISCAL TAX INVOICE\" }}{% endif %}</div>\n\n    <!-- Company Information -->\n    <table class=\"layout-table\">\n        <tbody>\n        <tr class=\"layout-row\">\n            <td class=\"layout-cell\" id=\"company-info-cell\">\n                <div id=\"company-info\">\n                    <p>{{ frappe.db.get_value(\"Address\", \"Eskill Trading-Office\", \"address_line1\") }}, {{ frappe.db.get_value(\"Address\", \"Eskill Trading-Office\", \"address_line2\") }}, {{ frappe.db.get_value(\"Address\", \"Eskill Trading-Office\", \"city\") }}</p>\n                    <p>Phone: {{ frappe.db.get_value(\"Address\", \"Eskill Trading-Office\", \"phone\") }}<br>Email: {{ frappe.db.get_value(\"Address\", \"Eskill Trading-Office\", \"email_id\") }}</p>\n                </div>\n            </td>\n            \n            \n            <td class=\"layout-cell\" id=\"project-name-cell\">\n                {% if doc.project %}\n                    {% set thisproject= frappe.get_doc(\"Project\", doc.project) %}\n                    {% set project_style = 'style=\\\"font-weight: bold; color: ' ~ thisproject.project_colour ~ '; border: 2px solid ' ~ thisproject.project_colour ~ ';\\\"' | safe %}\n                    <table class=\"layout-table\">\n                        <tbody><tr class=\"layout-row\">\n                            <td class=\"layout-cell\" style=\"vertical-align: middle;\">\n                                <div class=\"project-name\" {{ project_style }}>\n                                  <span id=\"project-icon\">\n                                    {{ projectsvg(thisproject.project_colour) }}\n                                  </span>\n                                  <span id=\"project-text\">  \n                                    {% set project_title_style = 'style=\\\"color: ' ~ thisproject.project_colour ~ '; font-weight: bold;\\\"' | safe %}\n                                    <p {{ project_title_style }}>PROJECT<br>{{ doc.project | truncate(27, True) }}</p>\n                                    \n                                  </span>\n                                </div>\n                            </td>\n                        </tr></tbody>\n                    </table>\n                {% endif %}\n            </td>\n            \n            <!-- Tax Information -->\n            <td class=\"layout-cell\" id=\"tax-info-cell\">\n                <div id=\"tax-info\">\n                    <p>VAT Number: {{ frappe.db.get_value(\"Company\", \"Eskill Trading (Pvt) Ltd\", \"tax_id\") }}</p>\n                    <p>BP Number: {{ frappe.db.get_value(\"Company\", \"Eskill Trading (Pvt) Ltd\", \"bp_number\") }}</p>\n                </div>\n            </td>\n        </tr>\n        </tbody>\n    </table>\n</div>\n<div id=\"top-info\">\n    <table class=\"layout-table\">\n        <tbody>\n        <tr class=\"layout-row\">\n            \n            <!-- Customer Name and Address -->\n            <td class=\"layout-cell\" id=\"customer-info\">\n                <div class=\"black-box\">\n                    <div class=\"yellow-bar\">\n                        {% if doc.grand_total <= 0 %}{{ \"Credited To\" }}{% else %}{{ \"Sold To\" }}{% endif %}\n                    </div>\n                    <div class=\"box-content-left\" id=\"customer\">{{ doc.customer_name }}<br>{% if doc.address_display %}{{ doc.address_display }}{% endif %}</div>\n                </div>\n            </td>\n        \n            <!-- Document Information -->\n            <td class=\"layout-cell\" id=\"document-info\">\n                <table class=\"layout-table\">\n                    <tbody>\n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\" id=\"date-cell\">\n                                <div class=\"black-box\">\n                                    <div class=\"yellow-bar\">\n                                        {% if doc.grand_total <= 0 %}{{ \"Credit Note Date\" }}{% else %}{{ \"Invoice Date\" }}{% endif %}\n                                    </div>\n                                    <div class=\"box-content-center\" id=\"date\">{% if doc.posting_date %}{{ doc.get_formatted('posting_date') }}{% else %}NOT POSTED{% endif %}</div>\n                                </div>\n                            </td>\n                            <td class=\"layout-cell\" id=\"page-cell\">\n                                <div class=\"black-box\">\n                                    <div class=\"yellow-bar\">Page</div>\n                                    <div class=\"box-content-center\" id=\"page\">{{ page_count.value }} of {{ page_total.value }}</div>\n                                </div>                                \n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n                <table class=\"layout-table\">\n                    <tbody>\n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\" id=\"document-number-cell\">\n                                <div class=\"black-box\">\n                                    <div class=\"yellow-bar\">\n                                        {% if doc.grand_total <= 0 %}{{ \"Credit Note Number\" }}\n                                            </div>\n                                            <div class=\"box-content-center\" id=\"document-number\" style=\"color: #ca0000;\">\n                                        {% else %}{{ \"Invoice Number\" }}\n                                            </div><div class=\"box-content-center\" id=\"document-number\">\n                                        {% endif %}                                    \n                                        {% if doc.name %}{{ doc.name }}{% endif %}\n                                    </div>\n                                </div>\n                            </td>                            \n                        </tr>                        \n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\" id=\"other-number-cell\">\n                                <div class=\"black-box\">\n                                    {% if not doc.items[0].sales_order %}\n                                            {% if doc.timesheets %}\n                                                {% set thistimesheet= frappe.get_doc(\"Timesheet\", doc.timesheets[0].time_sheet) %}\n                                                <div class=\"yellow-bar\">Issue Number</div>\n                                                <div class=\"box-content-center\" id=\"other-number\">{{ thistimesheet.issue }}</div>\n                                            {% else %}\n                                              <div class=\"yellow-bar\">Order/Issue Number</div>\n                                                <div class=\"box-content-center\" id=\"other-number\">\n                                                    Not Linked                                      \n                                                </div>                                            \n                                            {% endif %}\n                                    {% else %}\n                                        <div class=\"yellow-bar\">Order Number</div>\n                                        <div class=\"box-content-center\" id=\"other-number\">\n                                            {{doc.items[0].sales_order}}                                      \n                                        </div>\n                                    {% endif %}\n                                </div>\n                            </td>                            \n                        </tr>\n                    </tbody>\n                </table>\n            </td>\n        \n        </tr>\n        </tbody>\n    </table>\n    <table class=\"layout-table\">\n        <tbody>\n            <tr class=\"layout-row\">\n                <td class=\"layout-cell\" id=\"customer-currency-cell\">\n                    <div class=\"black-box\">\n                        <div class=\"yellow-bar\">Currency</div>\n                        <div class=\"box-content-center\" id=\"customer-currency\">\n                            {{ doc.currency }}\n                        </div>\n                    </div>                    \n                </td>\n                <td class=\"layout-cell\" id=\"exchange-rate-cell\">\n                    <div class=\"black-box\">\n                        <div class=\"yellow-bar\">Rate</div>\n                        <div class=\"box-content-center\" id=\"exchange-rate\">\n                            {% if doc.conversion_rate %}{{ doc.conversion_rate }}{% endif %}\n                        </div>\n                    </div>                    \n                </td>\n                <td class=\"layout-cell\" id=\"customer-vat-cell\">\n                    <div class=\"black-box\">\n                        <div class=\"yellow-bar\">Customer VAT</div>\n                        <div class=\"box-content-center\" id=\"customer-vat\">\n                            {% set thiscustomer= frappe.get_doc(\"Customer\", doc.customer) %}\n                            {{ thiscustomer.tax_id }}\n                        </div>\n                    </div>                    \n                </td>\n                <td class=\"layout-cell\" id=\"customer-ref-cell\">\n                    <div class=\"black-box\">\n                        <div class=\"yellow-bar\">Customer PO/Ref</div>\n                        <div class=\"box-content-center\" id=\"customer-ref\">\n                            {{ doc.po_no }}\n                        </div>\n                    </div>                    \n                </td>\n                <td class=\"layout-cell\" id=\"salesperson-cell\">\n                    <div class=\"black-box\">\n                        <div class=\"yellow-bar\">Salesperson</div>\n                        <div class=\"box-content-center\" id=\"salesperson\">\n                            {{ doc.sales_person |default(\"Eskill Sales Team\", true) }}\n                        </div>\n                    </div>                    \n                </td>\n                \n                \n            </tr>\n        </tbody>\n    </table>\n\n\n</div>\n<div id=\"middle-section\">\n    <div class=\"black-box\" id=\"middle-section-div\">\n        <table id=\"items\" class=\"layout-table\">\n            <tbody>\n                <tr class=\"layout-row\">\n                    <td class=\"layout-cell\" id=\"item-line\"><div class=\"yellow-head-left\" style=\"border-top-left-radius: 2px; border-bottom-left-radius: 2px;\">Line</div></td>\n                    <td class=\"layout-cell\" id=\"item-item\"><div class=\"yellow-head-left\">Item</div></td>\n                    <td class=\"layout-cell\" id=\"item-description\"><div class=\"yellow-head-left\">Description</div></td>\n                    <td class=\"layout-cell\" id=\"item-qty\"><div class=\"yellow-head-right\">Qty</div></td>\n                    <td class=\"layout-cell\" id=\"item-uom\"><div class=\"yellow-head-center\">UOM</div></td>\n                    <td class=\"layout-cell\" id=\"item-price\"><div class=\"yellow-head-right\">Unit Price</div></td>\n                    <td class=\"layout-cell\" id=\"item-total\"><div class=\"yellow-head-right\" style=\"border-top-right-radius: 2px; border-bottom-right-radius: 2px;\">Total</div></td>\n                </tr>\n\n{% endmacro %}\n\n\n{% macro pagefooter() %}\n    </tbody></table>\n    </div>\n</div>\n<div id=\"total-section\">\n    <table class=\"layout-table\">\n        <tr class=\"layout-row\">\n            <td class=\"layout-cell\" id=\"bank-info-cell\">\n                {% set banks = frappe.get_all('Bank Account', filters={'display_on_invoice': '1'}, fields=['bank_account_no', 'branch_code', 'display_name', 'account_type' ], order_by='account_type') %}\n                <div class=\"yellow-box\" id=\"bank-info\">\n                    <div class=\"yellow-bar\">Banking Details</div>\n                    {% for bank in banks %}\n                        <div class=\"bank-account\" >\n                            {{ bank.display_name }}<br>{{ bank.branch_code }}<br>{{ bank.bank_account_no }}\n                        </div>\n                    {% endfor %}\n                </div>\n                <div class=\"filled-grey-box\">\n                    <div class=\"box-content-center\" style=\"font-size: 7pt; color: #000000 !important;\">\n                        {% if doc.terms %}{{ doc.terms }}{% endif %}\n                    </div>\n                </div>\n            </td>\n            <td class=\"layout-cell\" id=\"totals-info-cell\">\n                <div class=\"black-box\" id=\"totals-info\">\n                    <table class=\"layout-table\">\n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\"><div class=\"cell-content-left\">Sub-Total</div></td>\n                            <td class=\"layout-cell\"><div class=\"cell-content-right\">{{ \"{:,.2f}\".format(doc.net_total) }}</div></td>\n                        </tr>                        \n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\"><div class=\"cell-content-left\">Discount</div></td>\n                            <td class=\"layout-cell\"><div class=\"cell-content-right\">{{ \"{:,.2f}\".format(doc.discount_amount) }}</div></td>\n                        </tr> \n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\"><div class=\"cell-content-left\">VAT</div></td>\n                            <td class=\"layout-cell\"><div class=\"cell-content-right\">{{ \"{:,.2f}\".format(doc.total_taxes_and_charges) }}</div></td>\n                        </tr>\n                        <tr class=\"layout-row\" style=\"border-top: 2px solid #ffbc1f;\">\n                            <td class=\"layout-cell\"><div class=\"cell-content-left\" style=\"font-size: 11pt;\"><strong>TOTAL</strong></div></td>\n                            <td class=\"layout-cell\"><div class=\"cell-content-right\" style=\"font-size: 11pt;\"><strong>{{ \"{:,.2f}\".format(doc.grand_total) }}</strong></div></td>\n                        </tr>\n                    </table>\n                    <table class=\"layout-table\">\n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\">\n                                <div class=\"cell-content-center\" style=\"font-size: 9pt;\"><em><strong>\n                                    {% set thiscurrency= frappe.get_doc(\"Currency\", doc.currency) %}\n                                    ({{ thiscurrency.display_name }})\n                                </strong></em></div>\n                            </td>\n                        </tr>\n                    </table>\n                </div>\n                \n            </td>\n        </tr>\n    </table>\n</div>\n\n<div id=\"fiscal-signature\"></div>\n<div id=\"footer\">\n    <div id=\"customer-signature\">\n        <p>Items Received In Good Order (Customer Signature)</p>\n    </div>\n</div>\n\n{% endmacro %}\n\n{% set line_total = namespace(value=0) %}\n{% set page_total = namespace(value=0) %}\n{% set page_count = namespace(value=1) %}\n{% set line_count = namespace(value=0) %}\n{% set free_line_count = namespace(value=0) %}\n{% set break_now = namespace(value=0) %}\n\n{% for item in doc.items %}\n    {% set wrapped_description %}\n        {{ item.item_name | wordwrap(50,true,'<br>') }}\n        {% if item.serial_no %}\n            <br><em>\n            {% set serial_list = item.serial_no.split('\\n') %}\n            {% for serial in serial_list %}\n                {{ serial | truncate(50,true) }}\n                {% if not loop.last %}<br>{% endif %}\n            {% endfor %}\n            </em>\n        {% endif %}\n    {% endset %}\n    {% set line_list = wrapped_description.split('<br>') %}\n    {% set this_line_count | float %}{{ line_list | count }}{% endset %}\n    {% set line_total.value = line_total.value + this_line_count %}\n    {% set page_float = line_total.value / 27 %}\n    {% set page_total.value = page_float | round(0, 'ceil') | int %}\n{% endfor %}\n\n{{ pageheader() }}\n\n{% for item in doc.items %}\n    {% set itemloop = loop %}\n    {% set wrapped_description %}\n        {{ item.item_name | wordwrap(50,true,'<br>') }}\n        {% if item.serial_no %}\n            <br><em>\n            {% set serial_list = item.serial_no.split('\\n') %}\n            {% for serial in serial_list %}\n                {{ serial | truncate(50,true) }}\n                {% if not loop.last %}<br>{% endif %}\n            {% endfor %}\n            </em>\n        {% endif %}\n    {% endset %}\n    {% set line_list = wrapped_description.split('<br>') %}\n    {% set this_line_count | float %}{{ line_list | count }}{% endset %}\n    {% if line_count.value == 27 %}\n        {{ pagefooter() }}\n        <div style=\"page-break-before: always;\"></div>\n        {% set page_count.value = page_count.value + 1 %}\n        {% set line_count.value = 0 %}\n        {{ pageheader() }}\n    {% endif %}\n    {% if loop.last %}\n        {% set free_line_count.value = 27 - line_count.value - this_line_count %}\n        {% if free_line_count.value >= 0 %}\n            <tr class=\"layout-row\" style=\"border-bottom: 3px solid #ffbc1f;\">\n        {% else %}\n            <tr class=\"layout-row\">\n        {% endif %}\n    {% else %}\n        <tr class=\"layout-row\">\n    {% endif %}\n\n            <td class=\"layout-cell\" id=\"item-line\"><div class=\"cell-content-left\">{{ item.idx }}</div></td>\n            <td class=\"layout-cell\" id=\"item-item\"><div class=\"cell-content-left\">{{ item.item_code | truncate(15, True) }}</div></td>\n            <td class=\"layout-cell\" id=\"item-description\">\n                <div class=\"cell-content-left\">\n                    {% for line in line_list %}\n                        {{ line }}\n                        {% if not loop.last and line_count.value < 27 %}<br>{% endif %}\n                        {% set line_count.value = line_count.value + 1 %}\n                        {% if line_count.value == 27 and not loop.last %}\n                            </div></td>\n                            <td class=\"layout-cell\" id=\"item-qty\"><div class=\"cell-content-right\">{{ item.qty }}</div></td>\n                            <td class=\"layout-cell\" id=\"item-uom\"><div class=\"cell-content-center\">{{ item.uom }}</div></td>\n                            <td class=\"layout-cell\" id=\"item-price\"><div class=\"cell-content-right\">{{ \"{:,.2f}\".format(item.rate) }}</div></td>\n                            <td class=\"layout-cell\" id=\"item-total\"><div class=\"cell-content-right\">{{ \"{:,.2f}\".format(item.amount) }}</div></td>                        \n                            </tr>\n                            {% set break_now.value = 1 %}\n                            {{ pagefooter() }}\n                            <div style=\"page-break-before: always;\"></div>\n                            {% set page_count.value = page_count.value + 1 %}\n                            {% set line_count.value = 0 %}\n                            {{ pageheader() }}\n                            {% if itemloop.last %}\n                                <tr class=\"layout-row\" style=\"border-bottom: 3px solid #ffbc1f;\">\n                                {% set free_line_count.value = 27 - line_count.value - this_line_count + loop.index %}\n                            {% else %}\n                                <tr class=\"layout-row\">\n                            {% endif %}\n                                <td class=\"layout-cell\" id=\"item-line\"><div class=\"cell-content-left\"></div></td>\n                                <td class=\"layout-cell\" id=\"item-item\"><div class=\"cell-content-left\"></div></td>\n                                <td class=\"layout-cell\" id=\"item-description\">\n                                    <div class=\"cell-content-left\">\n                        {% endif %}\n                    {% endfor %}\n                </div>\n            </td>\n            <td class=\"layout-cell\" id=\"item-qty\"><div class=\"cell-content-right\">{% if break_now.value != 1 %}{{ item.qty }}{% endif %}</div></td>\n            <td class=\"layout-cell\" id=\"item-uom\"><div class=\"cell-content-center\">{% if break_now.value != 1 %}{{ item.uom }}{% endif %}</div></td>\n            <td class=\"layout-cell\" id=\"item-price\"><div class=\"cell-content-right\">{% if break_now.value != 1 %}{{ \"{:,.2f}\".format(item.rate) }}{% endif %}</div></td>\n            <td class=\"layout-cell\" id=\"item-total\"><div class=\"cell-content-right\">{% if break_now.value != 1 %}{{ \"{:,.2f}\".format(item.amount) }}{% endif %}</div></td>                        \n            {% set break_now.value = 0 %}\n        </tr>\n        \n    {% if loop.last and free_line_count.value > 9 and free_line_count.value < 20 %}\n        </tbody></table>\n        {% set divheight = free_line_count.value * 12 %}\n        {% set divstyle = 'style=\\\"height: ' ~ divheight ~ 'pt;\\\"' %}\n        <div class=\"banner120pt\" {{ divstyle }}>\n            {% set bannerlist = namespace(path=[]) %}\n            {% set banners = frappe.get_all('Banner', filters={'allow_for_print': '1', 'banner_size': 'Height 160px/120pt'}, fields=['file_path']) %}\n            {% for banner in banners %}\n                {% if loop.first %}\n                    {% set bannerlist.path = [ banner.file_path ] %}\n                {% else %}\n                    {% set bannerlist.path = [ bannerlist.path, banner.file_path ] %}\n                {% endif %}\n            {% endfor %}\n            {% set banner_path = bannerlist.path|random %}\n            {% set banner_image = '<img src=\\\"' ~ banner_path ~ '\\\">' | safe %}\n            {% if banner_path %}<div id=\"banner\">{{ banner_image }}</div>{% endif %}\n        </div>\n       \n\n    {% elif loop.last and free_line_count.value >= 20 %}\n        </tbody></table>       \n        {% set divheight = free_line_count.value * 12 %}\n        {% set divstyle = 'style=\\\"height: ' ~ divheight ~ 'pt;\\\"' %}\n        <div class=\"banner240pt\" {{ divstyle }}>\n            {% set bannerlist = namespace(path=[]) %}\n            {% set banners = frappe.get_all('Banner', filters={'allow_for_print': '1', 'banner_size': 'Height 320px/240pt'}, fields=['file_path']) %}\n            {% for banner in banners %}\n                {% if loop.first %}\n                    {% set bannerlist.path = [ banner.file_path ] %}\n                {% else %}\n                    {% set bannerlist.path = [ bannerlist.path, banner.file_path ] %}\n                {% endif %}\n            {% endfor %}\n            {% set banner_path = bannerlist.path|random %}\n            {% set banner_image = '<img src=\\\"' ~ banner_path ~ '\\\">' | safe %}\n            {% if banner_path %}<span id=\"banner\">{{ banner_image }}</span>{% endif %}            \n        </div>\n        \n\n    {% endif %}\n{% endfor %}\n\n{{ pagefooter() }}\n",
  "line_breaks": 0,
  "modified": "2020-09-29 10:56:19.128936",
  "module": "Accounts",
  "name": "Eskill Invoice",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "print_format_builder": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "Yes"
 },
 {
  "align_labels_right": 0,
  "css": "@font-face {\n\tfont-family: DaxlinePro;\n\tfont-style: normal;\n\tfont-weight: 300;\n\tsrc: url(/fonts/DaxlinePro.ttf);\n}\n\n@font-face {\n\tfont-family: Neuropol;\n\tfont-style: normal;\n\tfont-weight: 300;\n\tsrc: url(/fonts/NeuropolXRG.ttf);\n}\n\n.print-format { \n    padding: 0mm !important;\n    font-family: 'DaxlinePro';\n}\n\nbody, p, span, div, element {\n    color: #474c51;\n    letter-spacing: normal !important;\n}\n\n#header-image {\n    background-image: url(/files/Eskill_Header.jpg);\n    display: table;\n    width: 100%;\n    background-size: 211mm;\n    background-repeat: no-repeat;\n    height: 38mm;\n    background-position: left top;\n    padding-top: 7mm !important;\n}\n\n.layout-table, .layout-row, .layout-div {\n    margin: 0 !important;\n    padding: 0 !important;\n    width: 100% !important;\n}\n\n.layout-cell {\n    margin: 0 !important;\n    padding: 0 !important;\n    height: 100%;\n    vertical-align: top;\n}\n\n\n\n#print-heading {\n    font-size: 18pt;\n    font-weight: bold;\n    line-height: 1;\n    padding: 0mm !important;\n    margin-top: 4mm !important;\n    margin-right: 6mm !important;\n    margin-bottom: 3mm !important;\n    text-align: right;\n}\n\n#company-info-cell {\n    width: 40%;\n}\n\n#company-info {\n    font-size: 8pt;\n    margin-left: 6mm !important;\n}\n\n#project-name-cell {\n    width: 35%;\n    vertical-align: bottom;\n}\n\n#tax-info-cell {\n    width: 25%;\n}\n\n#tax-info {\n    font-size: 8pt;\n    text-align: right;\n    margin-right: 5mm;\n    margin-top: 5mm;\n}\n\n#tax-info p {\n    margin: 0;\n    padding: 0;\n}\n\n#top-info {\n    margin-left: 7mm;\n    margin-right: 7mm;\n}\n\n#middle-section {\n    margin-left: 7mm;\n    margin-right: 7mm;\n}\n\n#middle-section-div {\n    min-height: 12cm;\n    height: 12cm;\n}\n\n#total-section {\n    margin-left: 7mm;\n    margin-right: 7mm;\n    margin-bottom: 1mm;\n    height: 43mm;\n    max-height: 43mm;\n    min-height: 43mm;\n    overflow: hidden;\n}\n\n.black-box {\n    border: 1px solid #474c51;\n    border-radius: 3px;\n    padding: 0.5mm;\n    margin-left: 1mm;\n    margin-bottom: 1mm;\n    width: auto;\n    height: auto;\n    overflow: hidden;\n    min-height: 12mm;\n}\n\n.yellow-box {\n    border: 1px solid #ffbc1f;\n    border-radius: 3px;\n    background-color: #ffbc1f;\n    padding: 0.5mm;\n    margin-left: 1mm;\n    margin-bottom: 1mm;\n    width: auto;\n    height: auto;\n    overflow: hidden;\n    min-height: 12mm;\n}\n\n.yellow-bar {\n    background-color: #ffbc1f;\n    border-radius: 2px;\n    width: 100%;\n    text-align: center;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #252525;\n}\n\n.filled-grey-box {\n    border: 1px solid #cfcfcf;\n    border-radius: 3px;\n    background-color: #cfcfcf;\n    padding: 1mm;\n    margin-left: 1mm;\n    margin-bottom: 1mm;\n    width: auto;\n    height: 12mm;\n    overflow: hidden;\n    min-height: 12mm;\n    max-height: 12mm;\n    color: #000000 !important;\n}\n\n.black-bar {\n    border-bottom: 1px solid #252525;\n    width: 100%;\n    text-align: center;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #252525;\n}\n\n.box-content-left {\n    padding: 1mm;\n    font-size: 9pt;\n    text-align: left;\n    overflow: hidden;\n}\n\n.box-content-center {\n    padding: 1mm;\n    font-size: 9pt;\n    text-align: center;\n    overflow: hidden;\n}\n\n.box-content-right {\n    padding: 1mm;\n    font-size: 9pt;\n    text-align: right;\n    overflow: hidden;\n}\n\n#customer-info {\n    width: 65%;\n    padding: 0 !important;\n    height: auto;\n}\n\n#customer {\n    height: 33mm;\n    max-height: 33mm;\n    min-height: 33mm;\n}\n\n#document-info {\n    width: 35%;\n    padding: 0 !important;\n}\n\n#document-number-cell {\n    margin: 0 !important;\n    padding: 0!important;\n    height: 12mm;\n    vertical-align: middle;\n}\n\n#page-cell, #date-cell, #other-number-cell, #exchange-rate-cell, #customer-vat-cell, #customer-ref-cell {\n    margin: 0 !important;\n    padding: 0!important;\n    height: 12mm;\n    vertical-align: middle;\n}\n\n#document-number {\n    font-weight: bold;\n    font-size: 12pt;\n}\n\n#customer-currency-cell {\n    width: 10%;\n    margin: 0 !important;\n    padding: 0!important;\n    height: 12mm;\n    vertical-align: middle;\n}\n\n#salesperson-cell {\n    width: 35%;\n    margin: 0 !important;\n    padding: 0!important;\n    height: 12mm;\n    vertical-align: middle;\n}\n\n#other-number, #customer-currency, #exchange-rate, #customer-vat, #customer-ref, #salesperson {\n    font-weight: normal;\n    font-size: 9pt;\n}\n\n.project-name {\n    padding: 0mm;\n    font-size: 8pt;\n    text-align: center;\n    overflow: hidden;\n    font-weight: bold;\n    vertical-align: middle !important;\n    height: 40px !important;\n    max-height: 40px !important;\n    border-radius: 4px;\n}\n\n#project-text {\n    display: table;\n    float: left;\n    text-align: left;\n}\n\n#project-text p {\n        display: table-cell;\n        vertical-align: middle !important;\n        height: 40px;\n        min-height: 40px;\n        max-height: 40px;\n}\n\n#project-icon {\n    display: inline-block;\n    width: 40px !important;\n    height: 40px !important;\n    max-height: 40px !important;\n    object-fit: none;\n    float: left;\n}\n\n.yellow-head-center {\n    background-color: #ffbc1f;\n    width: 100%;\n    text-align: center;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #2a2a2a;\n    padding: 0 5px 0 5px;\n}\n\n.yellow-head-left {\n    background-color: #ffbc1f;\n    width: 100%;\n    text-align: left;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #2a2a2a;\n    padding: 0 5px 0 5px;\n}\n\n.yellow-head-right {\n    background-color: #ffbc1f;\n    width: 100%;\n    text-align: right;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #2a2a2a;\n    padding: 0 5px 0 5px;\n}\n\n#items {\n    table-layout: fixed;\n}\n\n#item-line { width: 5% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#item-item { width: 16% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#item-description { width: 45% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#item-qty { width: 5% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#item-price { width: 11% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#item-uom { width: 7% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#item-total { width: 11% !important; padding: 0 !important; }\n\n#item-line, #item-item, #item-qty, #item-uom, #item-price, #item-total, #item-description {\n    height: auto;\n}\n\n#item-line div, #item-item div, #item-qty div, #item-uom div, #item-price div, #item-total div { \n    overflow: hidden;\n    max-height: 12pt;\n    height: 12pt;\n}\n\n#item-description div.yellow-head-left, #item-description div.yellow-head-center, #item-description div.yellow-head-right {\n    max-height: 12pt;\n    height: 12pt;\n}\n\n.cell-content-center {\n    width: 100%;\n    text-align: center;\n    line-height: 1.5;\n    font-size: 8pt !important;\n    font-weight: normal;\n    padding: 0 5px 0 5px;\n}\n\n.cell-content-left {\n    width: 100%;\n    text-align: left;\n    line-height: 1.5;\n    font-size: 8pt !important;\n    font-weight: normal;\n    padding: 0 5px 0 5px;\n}\n\n.cell-content-right {\n    width: 100%;\n    text-align: right;\n    line-height: 1.5;\n    font-size: 8pt !important;\n    font-weight: normal;\n    padding: 0 5px 0 5px;\n}\n\n#additional-notes-cell {\n    width: 65%;\n    padding: 0 !important;\n}\n\n#additional-notes {\n    height:30mm;\n    min-height: 30mm;\n    max-height: 30mm;\n    overflow: hidden;\n}\n\n.additional-notes-text {\n    font-size: 8pt;\n    color: #2f3031;\n    padding: 2mm;\n}\n\n#totals-info-cell {\n    width: 35%;\n    padding: 0 !important;\n}\n\n#totals-info {\n    height: 43mm;\n    max-height: 43mm;\n    min-height: 43mm;\n}\n\n#message {\n    font-family: Neuropol;\n    font-size: 6mm;\n    height: 10mm;\n    min-height: 10mm;\n    max-height: 10mm;\n    margin-left: 8mm;\n    margin-right: 7mm;\n    margin-top: 10mm;\n    text-align: left;\n    width: 100%;\n}\n\n#footer {\n    display: table;\n    width: 100%;\n    background-image: url(/files/Eskill_Footer.jpg);\n    background-size: 211mm;\n    background-repeat: no-repeat;\n    height: 24mm;\n    background-position: left bottom;\n}\n\n#customer-signature {\n    display: table-cell;\n    vertical-align: bottom;\n    margin: 0;\n    font-size: 8pt;\n}\n\n#customer-signature p {\n    border-top: 1px dotted #000;\n    font-size: 8pt;\n    width: 120mm;\n    margin-left: 20mm;\n    margin-bottom: 6mm;\n    text-align: center;\n    padding-top: 1mm;\n}\n\n.banner120pt {\n    display: table;\n    min-height: 120pt;\n    width: 100%;\n    text-align: center;\n    opacity: 0.2;\n}\n\n.banner240pt {\n    display: table;\n    min-height: 240pt;\n    width: 100%;\n    text-align: center;\n    opacity: 0.2;\n}\n\n#banner {\n    display: table-cell;\n    vertical-align: middle !important;\n}\n\n#banner img {\n    vertical-align: middle !important;\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Order",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "format_data": null,
  "html": "{% macro projectsvg(project_colour) %}\n\n    <svg id=\"Layer_1\" style=\"enable-background:new 0 0 512 512; width:35px; height: 35px;\" version=\"1.1\" viewBox=\"0 0 512 512\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><style type=\"text/css\">\n    \t.st0{fill:{{ project_colour }};}\n    \t.st1{fill:#232323;}\n    </style><g id=\"XMLID_174_\"><path class=\"st0\" d=\"M41,315.8c-5.8,0-11.4-1.6-16.4-4.6L6,300v172.5h67.5V297.1l-11,10.2   C56.7,312.8,49,315.8,41,315.8z\" id=\"XMLID_3390_\"/><polygon class=\"st0\" id=\"XMLID_183_\" points=\"143.2,232.4 143.2,472.6 210.8,472.6 210.8,225.5 176.1,201.8  \"/><path class=\"st0\" d=\"M290.2,273.1c-6.4,0-12.6-1.9-17.9-5.5l-13.3-9.1v214h67.5V251.8L311,265.4   C305.2,270.4,297.8,273.1,290.2,273.1z\" id=\"XMLID_182_\"/><polygon class=\"st0\" id=\"XMLID_175_\" points=\"378.5,472.6 446,472.6 446,148 378.5,206.7  \"/><path class=\"st1\" d=\"M401.1,69.3L429,96.4L288.8,217.5l-105.1-71.8c-7.3-5-17.2-4.3-23.7,1.8l-121.6,113L6.1,240.9   v44.4l25.1,15.1c7.3,4.4,16.5,3.4,22.8-2.4l120.9-112.4l104.6,71.5c7.1,4.9,16.7,4.3,23.2-1.3l153.7-132.9l23,22.3L506,39.4   L401.1,69.3z\" id=\"XMLID_498_\"/></g></svg>\n\n{% endmacro %}\n\n{% macro pageheader() %}\n\n<!DOCTYPE html>\n\n<div id=\"header-image\" class=\"layout-div\">\n    \n    <div id=\"print-heading\">{{ \"SALES ORDER\" }}</div>\n\n    <!-- Company Information -->\n    <table class=\"layout-table\">\n        <tbody>\n        <tr class=\"layout-row\">\n            <td class=\"layout-cell\" id=\"company-info-cell\">\n                <div id=\"company-info\">\n                    <p>{{ frappe.db.get_value(\"Address\", \"Eskill Trading-Office\", \"address_line1\") }}, {{ frappe.db.get_value(\"Address\", \"Eskill Trading-Office\", \"address_line2\") }}, {{ frappe.db.get_value(\"Address\", \"Eskill Trading-Office\", \"city\") }}</p>\n                    <p>Phone: {{ frappe.db.get_value(\"Address\", \"Eskill Trading-Office\", \"phone\") }}<br>Email: {{ frappe.db.get_value(\"Address\", \"Eskill Trading-Office\", \"email_id\") }}</p>\n                </div>\n            </td>\n            \n            \n            <td class=\"layout-cell\" id=\"project-name-cell\">\n                {% if doc.project %}\n                    {% set thisproject= frappe.get_doc(\"Project\", doc.project) %}\n                    {% set project_style = 'style=\\\"font-weight: bold; color: ' ~ thisproject.project_colour ~ '; border: 2px solid ' ~ thisproject.project_colour ~ ';\\\"' | safe %}\n                    <table class=\"layout-table\">\n                        <tbody><tr class=\"layout-row\">\n                            <td class=\"layout-cell\" style=\"vertical-align: middle;\">\n                                <div class=\"project-name\" {{ project_style }}>\n                                  <span id=\"project-icon\">\n                                    {{ projectsvg(thisproject.project_colour) }}\n                                  </span>\n                                  <span id=\"project-text\">  \n                                    {% set project_title_style = 'style=\\\"color: ' ~ thisproject.project_colour ~ '; font-weight: bold;\\\"' | safe %}\n                                    <p {{ project_title_style }}>PROJECT<br>{{ doc.project | truncate(27, True) }}</p>\n                                  </span>\n                                </div>\n                            </td>\n                        </tr></tbody>\n                    </table>\n                {% endif %}\n            </td>\n            \n            <!-- Tax Information -->\n            <td class=\"layout-cell\" id=\"tax-info-cell\">\n                <div id=\"tax-info\">\n                    <p>VAT Number: {{ frappe.db.get_value(\"Company\", \"Eskill Trading (Pvt) Ltd\", \"tax_id\") }}</p>\n                    <p>BP Number: {{ frappe.db.get_value(\"Company\", \"Eskill Trading (Pvt) Ltd\", \"bp_number\") }}</p>\n                </div>\n            </td>\n        </tr>\n        </tbody>\n    </table>\n</div>\n<div id=\"top-info\">\n    <table class=\"layout-table\">\n        <tbody>\n        <tr class=\"layout-row\">\n            \n            <!-- Customer Name and Address -->\n            <td class=\"layout-cell\" id=\"customer-info\">\n                <div class=\"black-box\">\n                    <div class=\"yellow-bar\">\n                        {{ \"Ordered By\" }}\n                    </div>\n                    <div class=\"box-content-left\" id=\"customer\">{{ doc.customer_name }}<br>{% if doc.address_display %}{{ doc.address_display }}{% endif %}</div>\n                </div>\n            </td>\n        \n            <!-- Document Information -->\n            <td class=\"layout-cell\" id=\"document-info\">\n                <table class=\"layout-table\">\n                    <tbody>\n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\" id=\"date-cell\">\n                                <div class=\"black-box\">\n                                    <div class=\"yellow-bar\">\n                                        {{ \"Order Date\" }}\n                                    </div>\n                                    <div class=\"box-content-center\" id=\"date\">{% if doc.transaction_date %}{{ doc.get_formatted('transaction_date') }}{% else %}MISSING{% endif %}</div>\n                                </div>\n                            </td>\n                            <td class=\"layout-cell\" id=\"page-cell\">\n                                <div class=\"black-box\">\n                                    <div class=\"yellow-bar\">Page</div>\n                                    <div class=\"box-content-center\" id=\"page\">{{ page_count.value }} of {{ page_total.value }}</div>\n                                </div>                                \n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n                <table class=\"layout-table\">\n                    <tbody>\n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\" id=\"document-number-cell\">\n                                <div class=\"black-box\">\n                                    <div class=\"yellow-bar\">\n                                        {{ \"Order Number\" }}\n                                    </div>\n                                    <div class=\"box-content-center\" id=\"document-number\">\n                                        {% if doc.name %}{{ doc.name }}{% endif %}\n                                    </div>\n                                </div>\n                            </td>                            \n                        </tr>                        \n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\" id=\"other-number-cell\">\n                                <div class=\"black-box\">\n                                    <div class=\"yellow-bar\">Quote Number</div>\n                                        <div class=\"box-content-center\" id=\"other-number\">\n                                            {{ doc.items[0].prevdoc_docname }}                                      \n                                        </div>\n                                </div>\n                            </td>                            \n                        </tr>\n                    </tbody>\n                </table>\n            </td>\n        \n        </tr>\n        </tbody>\n    </table>\n    <table class=\"layout-table\">\n        <tbody>\n            <tr class=\"layout-row\">\n                <td class=\"layout-cell\" id=\"customer-currency-cell\">\n                    <div class=\"black-box\">\n                        <div class=\"yellow-bar\">Currency</div>\n                        <div class=\"box-content-center\" id=\"customer-currency\">\n                            {{ doc.currency }}\n                        </div>\n                    </div>                    \n                </td>\n                <td class=\"layout-cell\" id=\"exchange-rate-cell\">\n                    <div class=\"black-box\">\n                        <div class=\"yellow-bar\">Rate</div>\n                        <div class=\"box-content-center\" id=\"exchange-rate\">\n                            {% if doc.conversion_rate %}{{ doc.conversion_rate }}{% endif %}\n                        </div>\n                    </div>                    \n                </td>\n                <td class=\"layout-cell\" id=\"customer-vat-cell\">\n                    <div class=\"black-box\">\n                        <div class=\"yellow-bar\">Customer VAT</div>\n                        <div class=\"box-content-center\" id=\"customer-vat\">\n                            {% set thiscustomer= frappe.get_doc(\"Customer\", doc.customer) %}\n                            {{ thiscustomer.tax_id }}\n                        </div>\n                    </div>                    \n                </td>\n                <td class=\"layout-cell\" id=\"customer-ref-cell\">\n                    <div class=\"black-box\">\n                        <div class=\"yellow-bar\">Customer PO/Ref</div>\n                        <div class=\"box-content-center\" id=\"customer-ref\">\n                            {{ doc.po_no }}\n                        </div>\n                    </div>                    \n                </td>\n                <td class=\"layout-cell\" id=\"salesperson-cell\">\n                    <div class=\"black-box\">\n                        <div class=\"yellow-bar\">Salesperson</div>\n                        <div class=\"box-content-center\" id=\"salesperson\">\n                            {{ doc.sales_person |default(\"Eskill Sales Team\", true) }}\n                        </div>\n                    </div>                    \n                </td>\n                \n                \n            </tr>\n        </tbody>\n    </table>\n\n\n</div>\n<div id=\"middle-section\">\n    <div class=\"black-box\" id=\"middle-section-div\">\n        <table id=\"items\" class=\"layout-table\">\n            <tbody>\n                <tr class=\"layout-row\">\n                    <td class=\"layout-cell\" id=\"item-line\"><div class=\"yellow-head-left\" style=\"border-top-left-radius: 2px; border-bottom-left-radius: 2px;\">Line</div></td>\n                    <td class=\"layout-cell\" id=\"item-item\"><div class=\"yellow-head-left\">Item</div></td>\n                    <td class=\"layout-cell\" id=\"item-description\"><div class=\"yellow-head-left\">Description</div></td>\n                    <td class=\"layout-cell\" id=\"item-qty\"><div class=\"yellow-head-right\">Qty</div></td>\n                    <td class=\"layout-cell\" id=\"item-uom\"><div class=\"yellow-head-center\">UOM</div></td>\n                    <td class=\"layout-cell\" id=\"item-price\"><div class=\"yellow-head-right\">Unit Price</div></td>\n                    <td class=\"layout-cell\" id=\"item-total\"><div class=\"yellow-head-right\" style=\"border-top-right-radius: 2px; border-bottom-right-radius: 2px;\">Total</div></td>\n                </tr>\n\n{% endmacro %}\n\n\n{% macro pagefooter() %}\n    </tbody></table>\n    </div>\n</div>\n<div id=\"total-section\">\n    <table class=\"layout-table\">\n        <tr class=\"layout-row\">\n            <td class=\"layout-cell\" id=\"additional-notes-cell\">\n                {% set banks = frappe.get_all('Bank Account', filters={'display_on_invoice': '1'}, fields=['bank_account_no', 'branch_code', 'display_name', 'account_type' ], order_by='account_type') %}\n                <div class=\"yellow-box\" id=\"additional-notes\">\n                    <div class=\"yellow-bar\">Additional Notes</div>\n                        <div class=\"additional-notes-text\">\n                            {% if doc.additional_notes %}{{ doc.additional_notes | truncate(480, false) }}{% endif %}\n                        </div>\n                </div>\n                <div class=\"filled-grey-box\">\n                    <div class=\"box-content-center\" style=\"font-size: 7pt; color: #000000 !important;\">\n                        {% if doc.terms %}{{ doc.terms }}{% endif %}\n                    </div>\n                </div>\n            </td>\n            <td class=\"layout-cell\" id=\"totals-info-cell\">\n                <div class=\"black-box\" id=\"totals-info\">\n                    <table class=\"layout-table\">\n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\"><div class=\"cell-content-left\">Sub-Total</div></td>\n                            <td class=\"layout-cell\"><div class=\"cell-content-right\">{{ \"{:,.2f}\".format(doc.net_total) }}</div></td>\n                        </tr>                        \n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\"><div class=\"cell-content-left\">Discount</div></td>\n                            <td class=\"layout-cell\"><div class=\"cell-content-right\">{{ \"{:,.2f}\".format(doc.discount_amount) }}</div></td>\n                        </tr> \n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\"><div class=\"cell-content-left\">VAT</div></td>\n                            <td class=\"layout-cell\"><div class=\"cell-content-right\">{{ \"{:,.2f}\".format(doc.total_taxes_and_charges) }}</div></td>\n                        </tr>\n                        <tr class=\"layout-row\" style=\"border-top: 2px solid #ffbc1f;\">\n                            <td class=\"layout-cell\"><div class=\"cell-content-left\" style=\"font-size: 11pt;\"><strong>TOTAL</strong></div></td>\n                            <td class=\"layout-cell\"><div class=\"cell-content-right\" style=\"font-size: 11pt;\"><strong>{{ \"{:,.2f}\".format(doc.grand_total) }}</strong></div></td>\n                        </tr>\n                    </table>\n                    <table class=\"layout-table\">\n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\">\n                                <div class=\"cell-content-center\" style=\"font-size: 9pt;\"><em><strong>\n                                    {% set thiscurrency= frappe.get_doc(\"Currency\", doc.currency) %}\n                                    ({{ thiscurrency.display_name }})\n                                </strong></em></div>\n                            </td>\n                        </tr>\n                    </table>\n                </div>\n                \n            </td>\n        </tr>\n    </table>\n</div>\n\n<div id=\"message\"></div>\n<div id=\"footer\">\n\n</div>\n\n{% endmacro %}\n\n{% set line_total = namespace(value=0) %}\n{% set page_total = namespace(value=0) %}\n{% set page_count = namespace(value=1) %}\n{% set line_count = namespace(value=0) %}\n{% set free_line_count = namespace(value=0) %}\n{% set break_now = namespace(value=0) %}\n\n{% for item in doc.items %}\n    {% set wrapped_description %}\n        {{ item.item_name | wordwrap(50,true,'<br>') }}\n    {% endset %}\n    {% set line_list = wrapped_description.split('<br>') %}\n    {% set this_line_count | float %}{{ line_list | count }}{% endset %}\n    {% set line_total.value = line_total.value + this_line_count %}\n    {% set page_float = line_total.value / 27 %}\n    {% set page_total.value = page_float | round(0, 'ceil') | int %}\n{% endfor %}\n\n{{ pageheader() }}\n\n{% for item in doc.items %}\n    {% set itemloop = loop %}\n    {% set wrapped_description %}\n        {{ item.item_name | wordwrap(50,true,'<br>') }}\n    {% endset %}\n    {% set line_list = wrapped_description.split('<br>') %}\n    {% set this_line_count | float %}{{ line_list | count }}{% endset %}\n    {% if line_count.value == 27 %}\n        {{ pagefooter() }}\n        <div style=\"page-break-before: always;\"></div>\n        {% set page_count.value = page_count.value + 1 %}\n        {% set line_count.value = 0 %}\n        {{ pageheader() }}\n    {% endif %}\n    {% if loop.last %}\n        {% set free_line_count.value = 27 - line_count.value - this_line_count %}\n        {% if free_line_count.value >= 0 %}\n            <tr class=\"layout-row\" style=\"border-bottom: 3px solid #ffbc1f;\">\n        {% else %}\n            <tr class=\"layout-row\">\n        {% endif %}\n    {% else %}\n        <tr class=\"layout-row\">\n    {% endif %}\n\n            <td class=\"layout-cell\" id=\"item-line\"><div class=\"cell-content-left\">{{ item.idx }}</div></td>\n            <td class=\"layout-cell\" id=\"item-item\"><div class=\"cell-content-left\">{{ item.item_code | truncate(15, true) }}</div></td>\n            <td class=\"layout-cell\" id=\"item-description\">\n                <div class=\"cell-content-left\">\n                    {% for line in line_list %}\n                        {{ line }}\n                        {% if not loop.last and line_count.value < 27 %}<br>{% endif %}\n                        {% set line_count.value = line_count.value + 1 %}\n                        {% if line_count.value == 27 and not loop.last %}\n                            </div></td>\n                            <td class=\"layout-cell\" id=\"item-qty\"><div class=\"cell-content-right\">{{ item.qty }}</div></td>\n                            <td class=\"layout-cell\" id=\"item-uom\"><div class=\"cell-content-center\">{{ item.uom }}</div></td>\n                            <td class=\"layout-cell\" id=\"item-price\"><div class=\"cell-content-right\">{{ \"{:,.2f}\".format(item.rate) }}</div></td>\n                            <td class=\"layout-cell\" id=\"item-total\"><div class=\"cell-content-right\">{{ \"{:,.2f}\".format(item.amount) }}</div></td>                        \n                            </tr>\n                            {% set break_now.value = 1 %}\n                            {{ pagefooter() }}\n                            <div style=\"page-break-before: always;\"></div>\n                            {% set page_count.value = page_count.value + 1 %}\n                            {% set line_count.value = 0 %}\n                            {{ pageheader() }}\n                            {% if itemloop.last %}\n                                <tr class=\"layout-row\" style=\"border-bottom: 3px solid #ffbc1f;\">\n                                {% set free_line_count.value = 27 - line_count.value - this_line_count + loop.index %}\n                            {% else %}\n                                <tr class=\"layout-row\">\n                            {% endif %}\n                                <td class=\"layout-cell\" id=\"item-line\"><div class=\"cell-content-left\"></div></td>\n                                <td class=\"layout-cell\" id=\"item-item\"><div class=\"cell-content-left\"></div></td>\n                                <td class=\"layout-cell\" id=\"item-description\">\n                                    <div class=\"cell-content-left\">\n                        {% endif %}\n                    {% endfor %}\n                </div>\n            </td>\n            <td class=\"layout-cell\" id=\"item-qty\"><div class=\"cell-content-right\">{% if break_now.value != 1 %}{{ item.qty }}{% endif %}</div></td>\n            <td class=\"layout-cell\" id=\"item-uom\"><div class=\"cell-content-center\">{% if break_now.value != 1 %}{{ item.uom }}{% endif %}</div></td>\n            <td class=\"layout-cell\" id=\"item-price\"><div class=\"cell-content-right\">{% if break_now.value != 1 %}{{ \"{:,.2f}\".format(item.rate) }}{% endif %}</div></td>\n            <td class=\"layout-cell\" id=\"item-total\"><div class=\"cell-content-right\">{% if break_now.value != 1 %}{{ \"{:,.2f}\".format(item.amount) }}{% endif %}</div></td>                        \n            {% set break_now.value = 0 %}\n        </tr>\n        \n    {% if loop.last and free_line_count.value > 9 and free_line_count.value < 20 %}\n        </tbody></table>\n        {% set divheight = free_line_count.value * 12 %}\n        {% set divstyle = 'style=\\\"height: ' ~ divheight ~ 'pt;\\\"' %}\n        <div class=\"banner120pt\" {{ divstyle }}>\n            {% set bannerlist = namespace(path=[]) %}\n            {% set banners = frappe.get_all('Banner', filters={'allow_for_print': '1', 'banner_size': 'Height 160px/120pt'}, fields=['file_path']) %}\n            {% for banner in banners %}\n                {% if loop.first %}\n                    {% set bannerlist.path = [ banner.file_path ] %}\n                {% else %}\n                    {% set bannerlist.path = [ bannerlist.path, banner.file_path ] %}\n                {% endif %}\n            {% endfor %}\n            {% set banner_path = bannerlist.path|random %}\n            {% set banner_image = '<img src=\\\"' ~ banner_path ~ '\\\">' | safe %}\n            {% if banner_path %}<div id=\"banner\">{{ banner_image }}</div>{% endif %}\n        </div>\n       \n\n    {% elif loop.last and free_line_count.value >= 20 %}\n        </tbody></table>       \n        {% set divheight = free_line_count.value * 12 %}\n        {% set divstyle = 'style=\\\"height: ' ~ divheight ~ 'pt;\\\"' %}\n        <div class=\"banner240pt\" {{ divstyle }}>\n            {% set bannerlist = namespace(path=[]) %}\n            {% set banners = frappe.get_all('Banner', filters={'allow_for_print': '1', 'banner_size': 'Height 320px/240pt'}, fields=['file_path']) %}\n            {% for banner in banners %}\n                {% if loop.first %}\n                    {% set bannerlist.path = [ banner.file_path ] %}\n                {% else %}\n                    {% set bannerlist.path = [ bannerlist.path, banner.file_path ] %}\n                {% endif %}\n            {% endfor %}\n            {% set banner_path = bannerlist.path|random %}\n            {% set banner_image = '<img src=\\\"' ~ banner_path ~ '\\\">' | safe %}\n            {% if banner_path %}<span id=\"banner\">{{ banner_image }}</span>{% endif %}            \n        </div>\n        \n\n    {% endif %}\n{% endfor %}\n\n{{ pagefooter() }}\n",
  "line_breaks": 0,
  "modified": "2020-09-25 14:53:48.748328",
  "module": "Selling",
  "name": "Eskill Sales Order",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "print_format_builder": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "Yes"
 },
 {
  "align_labels_right": 0,
  "css": "@font-face {\n\tfont-family: DaxlinePro;\n\tfont-style: normal;\n\tfont-weight: 300;\n\tsrc: url(/fonts/DaxlinePro.ttf);\n}\n\n@font-face {\n\tfont-family: Neuropol;\n\tfont-style: normal;\n\tfont-weight: 300;\n\tsrc: url(/fonts/NeuropolXRG.ttf);\n}\n\n.print-format { \n    padding: 0mm !important;\n    font-family: 'DaxlinePro';\n}\n\nbody, p, span, div, element, em {\n    color: #474c51;\n    letter-spacing: normal !important;\n}\n\n#header-image {\n    background-image: url(/files/Eskill_Header.jpg);\n    display: table;\n    width: 100%;\n    background-size: 211mm;\n    background-repeat: no-repeat;\n    height: 38mm;\n    background-position: left top;\n    padding-top: 7mm !important;\n}\n\n.layout-table, .layout-row, .layout-div {\n    margin: 0 !important;\n    padding: 0 !important;\n    width: 100% !important;\n}\n\n.layout-cell {\n    margin: 0 !important;\n    padding: 0 !important;\n    height: 100%;\n    vertical-align: top;\n}\n\n\n\n#print-heading {\n    font-size: 18pt;\n    font-weight: bold;\n    line-height: 1;\n    padding: 0mm !important;\n    margin-top: 4mm !important;\n    margin-right: 6mm !important;\n    margin-bottom: 3mm !important;\n    text-align: right;\n}\n\n#company-info-cell {\n    width: 40%;\n}\n\n#company-info {\n    font-size: 8pt;\n    margin-left: 6mm !important;\n}\n\n#project-name-cell {\n    width: 35%;\n    vertical-align: bottom;\n}\n\n#tax-info-cell {\n    width: 25%;\n}\n\n#tax-info {\n    font-size: 8pt;\n    text-align: right;\n    margin-right: 5mm;\n    margin-top: 5mm;\n}\n\n#tax-info p {\n    margin: 0;\n    padding: 0;\n}\n\n#top-info {\n    margin-left: 7mm;\n    margin-right: 7mm;\n}\n\n#middle-section {\n    margin-left: 7mm;\n    margin-right: 7mm;\n}\n\n#middle-section-div {\n    min-height: 12cm;\n    height: 12cm;\n}\n\n#total-section {\n    margin-left: 7mm;\n    margin-right: 7mm;\n    margin-bottom: 1mm;\n    height: 43mm;\n    max-height: 43mm;\n    min-height: 43mm;\n    overflow: hidden;\n}\n\n.black-box {\n    border: 1px solid #474c51;\n    border-radius: 3px;\n    padding: 0.5mm;\n    margin-left: 1mm;\n    margin-bottom: 1mm;\n    width: auto;\n    height: auto;\n    overflow: hidden;\n    min-height: 12mm;\n}\n\n.yellow-box {\n    border: 1px solid #ffbc1f;\n    border-radius: 3px;\n    background-color: #ffbc1f;\n    padding: 0.5mm;\n    margin-left: 1mm;\n    margin-bottom: 1mm;\n    width: auto;\n    height: auto;\n    overflow: hidden;\n    min-height: 12mm;\n}\n\n.yellow-bar {\n    background-color: #ffbc1f;\n    border-radius: 2px;\n    width: 100%;\n    text-align: center;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #252525;\n}\n\n.filled-grey-box {\n    border: 1px solid #cfcfcf;\n    border-radius: 3px;\n    background-color: #cfcfcf;\n    padding: 1mm;\n    margin-left: 1mm;\n    margin-bottom: 1mm;\n    width: auto;\n    height: 12mm;\n    overflow: hidden;\n    min-height: 12mm;\n    max-height: 12mm;\n    color: #000000 !important;\n}\n\n.black-bar {\n    border-bottom: 1px solid #252525;\n    width: 100%;\n    text-align: center;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #252525;\n}\n\n.box-content-left {\n    padding: 1mm;\n    font-size: 9pt;\n    text-align: left;\n    overflow: hidden;\n}\n\n.box-content-center {\n    padding: 1mm;\n    font-size: 9pt;\n    text-align: center;\n    overflow: hidden;\n}\n\n.box-content-right {\n    padding: 1mm;\n    font-size: 9pt;\n    text-align: right;\n    overflow: hidden;\n}\n\n#customer-info {\n    width: 65%;\n    padding: 0 !important;\n    height: auto;\n}\n\n#customer {\n    height: 33mm;\n    max-height: 33mm;\n    min-height: 33mm;\n}\n\n#document-info {\n    width: 35%;\n    padding: 0 !important;\n}\n\n#document-number-cell {\n    margin: 0 !important;\n    padding: 0!important;\n    height: 12mm;\n    vertical-align: middle;\n}\n\n#page-cell, #date-cell, #other-number-cell, #exchange-rate-cell, #transporter-cell, #driver-cell, #customer-vat-cell, #customer-ref-cell {\n    margin: 0 !important;\n    padding: 0!important;\n    height: 12mm;\n    vertical-align: middle;\n}\n\n#document-number {\n    font-weight: bold;\n    font-size: 12pt;\n}\n\n#customer-currency-cell {\n    width: 10%;\n    margin: 0 !important;\n    padding: 0!important;\n    height: 12mm;\n    vertical-align: middle;\n}\n\n#salesperson-cell {\n    width: 35%;\n    margin: 0 !important;\n    padding: 0!important;\n    height: 12mm;\n    vertical-align: middle;\n}\n\n#other-number, #customer-currency, #exchange-rate, #customer-vat, #driver, #transporter, #customer-ref, #salesperson {\n    font-weight: normal;\n    font-size: 9pt;\n}\n\n.project-name {\n    padding: 0mm;\n    font-size: 8pt;\n    text-align: center;\n    overflow: hidden;\n    font-weight: bold;\n    vertical-align: middle !important;\n    height: 40px !important;\n    max-height: 40px !important;\n    border-radius: 4px;\n}\n\n#project-text {\n    display: table;\n    float: left;\n    text-align: left;\n}\n\n#project-text p {\n        display: table-cell;\n        vertical-align: middle !important;\n        height: 40px;\n        min-height: 40px;\n        max-height: 40px;\n}\n\n#project-icon {\n    display: inline-block;\n    width: 40px !important;\n    height: 40px !important;\n    max-height: 40px !important;\n    object-fit: none;\n    float: left;\n}\n\n.yellow-head-center {\n    background-color: #ffbc1f;\n    width: 100%;\n    text-align: center;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #2a2a2a;\n    padding: 0 5px 0 5px;\n}\n\n.yellow-head-left {\n    background-color: #ffbc1f;\n    width: 100%;\n    text-align: left;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #2a2a2a;\n    padding: 0 5px 0 5px;\n}\n\n.yellow-head-right {\n    background-color: #ffbc1f;\n    width: 100%;\n    text-align: right;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #2a2a2a;\n    padding: 0 5px 0 5px;\n}\n\n#items {\n    table-layout: fixed;\n}\n\n#item-line { width: 5% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#item-item { width: 16% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#item-description { width: 45% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#item-qty { width: 7% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#item-price { width: 11% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#item-uom { width: 7% !important; padding: 0 !important; }\n#item-total { width: 11% !important; padding: 0 !important; }\n#item-weight { width: 10% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#item-weight-total { width: 10% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n\n#item-line, #item-item, #item-qty, #item-uom, #item-price, #item-total, #item-description, #item-weight, #item-weight-total {\n    height: auto;\n}\n\n#item-line div, #item-item div, #item-qty div, #item-uom div, #item-price div, #item-total div, #item-weight div, #item-weight-total div { \n    overflow: hidden;\n    max-height: 12pt;\n    height: 12pt;\n}\n\n#item-description div.yellow-head-left, #item-description div.yellow-head-center, #item-description div.yellow-head-right {\n    max-height: 12pt;\n    height: 12pt;\n}\n\n.cell-content-center {\n    width: 100%;\n    text-align: center;\n    line-height: 1.5;\n    font-size: 8pt !important;\n    font-weight: normal;\n    padding: 0 5px 0 5px;\n}\n\n.cell-content-left {\n    width: 100%;\n    text-align: left;\n    line-height: 1.5;\n    font-size: 8pt !important;\n    font-weight: normal;\n    padding: 0 5px 0 5px;\n}\n\n.cell-content-right {\n    width: 100%;\n    text-align: right;\n    line-height: 1.5;\n    font-size: 8pt !important;\n    font-weight: normal;\n    padding: 0 5px 0 5px;\n}\n\n#instructions-cell {\n    width: 65%;\n    padding: 0 !important;\n}\n\n#instructions {\n    height:30mm;\n    min-height: 30mm;\n    max-height: 30mm;\n    overflow: hidden;\n}\n\n.instructions-text {\n    font-size: 8pt;\n    color: #2f3031;\n    padding: 2mm;\n}\n\n#totals-info-cell {\n    width: 35%;\n    padding: 0 !important;\n}\n\n#totals-info {\n    height: 43mm;\n    max-height: 43mm;\n    min-height: 43mm;\n}\n\n#fiscal-signature {\n    height: 10mm;\n    min-height: 10mm;\n    max-height: 10mm;\n    /* border: 1px dashed #494949; */\n    border-radius: 3px;\n    margin-left: 8mm;\n    margin-right: 7mm;\n    margin-bottom: 10mm;\n}\n\n#footer {\n    display: table;\n    width: 100%;\n    background-image: url(/files/Eskill_Footer.jpg);\n    background-size: 211mm;\n    background-repeat: no-repeat;\n    height: 24mm;\n    background-position: left bottom;\n}\n\n#customer-signature {\n    display: table-cell;\n    vertical-align: bottom;\n    margin: 0;\n    font-size: 8pt;\n}\n\n#customer-signature p {\n    border-top: 1px dotted #000;\n    font-size: 8pt;\n    width: 120mm;\n    margin-left: 20mm;\n    margin-bottom: 6mm;\n    text-align: center;\n    padding-top: 1mm;\n}\n\n.banner120pt {\n    display: table;\n    min-height: 120pt;\n    width: 100%;\n    text-align: center;\n    opacity: 0.2;\n}\n\n.banner240pt {\n    display: table;\n    min-height: 240pt;\n    width: 100%;\n    text-align: center;\n    opacity: 0.2;\n}\n\n#banner {\n    display: table-cell;\n    vertical-align: middle !important;\n}\n\n#banner img {\n    vertical-align: middle !important;\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Delivery Note",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "format_data": null,
  "html": "{% macro projectsvg(project_colour) %}\n\n    <svg id=\"Layer_1\" style=\"enable-background:new 0 0 512 512; width:35px; height: 35px;\" version=\"1.1\" viewBox=\"0 0 512 512\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><style type=\"text/css\">\n    \t.st0{fill:{{ project_colour }};}\n    \t.st1{fill:#232323;}\n    </style><g id=\"XMLID_174_\"><path class=\"st0\" d=\"M41,315.8c-5.8,0-11.4-1.6-16.4-4.6L6,300v172.5h67.5V297.1l-11,10.2   C56.7,312.8,49,315.8,41,315.8z\" id=\"XMLID_3390_\"/><polygon class=\"st0\" id=\"XMLID_183_\" points=\"143.2,232.4 143.2,472.6 210.8,472.6 210.8,225.5 176.1,201.8  \"/><path class=\"st0\" d=\"M290.2,273.1c-6.4,0-12.6-1.9-17.9-5.5l-13.3-9.1v214h67.5V251.8L311,265.4   C305.2,270.4,297.8,273.1,290.2,273.1z\" id=\"XMLID_182_\"/><polygon class=\"st0\" id=\"XMLID_175_\" points=\"378.5,472.6 446,472.6 446,148 378.5,206.7  \"/><path class=\"st1\" d=\"M401.1,69.3L429,96.4L288.8,217.5l-105.1-71.8c-7.3-5-17.2-4.3-23.7,1.8l-121.6,113L6.1,240.9   v44.4l25.1,15.1c7.3,4.4,16.5,3.4,22.8-2.4l120.9-112.4l104.6,71.5c7.1,4.9,16.7,4.3,23.2-1.3l153.7-132.9l23,22.3L506,39.4   L401.1,69.3z\" id=\"XMLID_498_\"/></g></svg>\n\n{% endmacro %}\n\n{% macro pageheader() %}\n\n<!DOCTYPE html>\n\n<div id=\"header-image\" class=\"layout-div\">\n    {% if doc.grand_total >= 0 and not is_return %}\n        <div id=\"print-heading\">{{ \"DELIVERY NOTE\" }}</div>\n    {% else %}\n        <div id=\"print-heading\" style=\"color: #ca0000;\">{{ \"SALES RETURN\" }}</div>\n    {% endif %}\n\n    <!-- Company Information -->\n    <table class=\"layout-table\">\n        <tbody>\n        <tr class=\"layout-row\">\n            <td class=\"layout-cell\" id=\"company-info-cell\">\n                <div id=\"company-info\">\n                    <p>{{ frappe.db.get_value(\"Address\", \"Eskill Trading-Office\", \"address_line1\") }}, {{ frappe.db.get_value(\"Address\", \"Eskill Trading-Office\", \"address_line2\") }}, {{ frappe.db.get_value(\"Address\", \"Eskill Trading-Office\", \"city\") }}</p>\n                    <p>Phone: {{ frappe.db.get_value(\"Address\", \"Eskill Trading-Office\", \"phone\") }}<br>Email: {{ frappe.db.get_value(\"Address\", \"Eskill Trading-Office\", \"email_id\") }}</p>\n                </div>\n            </td>\n            \n            \n            <td class=\"layout-cell\" id=\"project-name-cell\">\n                {% if doc.project %}\n                    {% set thisproject= frappe.get_doc(\"Project\", doc.project) %}\n                    {% set project_style = 'style=\\\"font-weight: bold; color: ' ~ thisproject.project_colour ~ '; border: 2px solid ' ~ thisproject.project_colour ~ ';\\\"' | safe %}\n                    <table class=\"layout-table\">\n                        <tbody><tr class=\"layout-row\">\n                            <td class=\"layout-cell\" style=\"vertical-align: middle;\">\n                                <div class=\"project-name\" {{ project_style }}>\n                                  <span id=\"project-icon\">\n                                    {{ projectsvg(thisproject.project_colour) }}\n                                  </span>\n                                  <span id=\"project-text\">  \n                                    {% set project_title_style = 'style=\\\"color: ' ~ thisproject.project_colour ~ '; font-weight: bold;\\\"' | safe %}\n                                    <p {{ project_title_style }}>PROJECT<br>{{ doc.project | truncate(27, True) }}</p>\n                                    \n                                  </span>\n                                </div>\n                            </td>\n                        </tr></tbody>\n                    </table>\n                {% endif %}\n            </td>\n            \n            <!-- Tax Information -->\n            <td class=\"layout-cell\" id=\"tax-info-cell\">\n                <div id=\"tax-info\">\n                    <p>VAT Number: {{ frappe.db.get_value(\"Company\", \"Eskill Trading (Pvt) Ltd\", \"tax_id\") }}</p>\n                    <p>BP Number: {{ frappe.db.get_value(\"Company\", \"Eskill Trading (Pvt) Ltd\", \"bp_number\") }}</p>\n                </div>\n            </td>\n        </tr>\n        </tbody>\n    </table>\n</div>\n<div id=\"top-info\">\n    <table class=\"layout-table\">\n        <tbody>\n        <tr class=\"layout-row\">\n            \n            <!-- Customer Name and Address -->\n            <td class=\"layout-cell\" id=\"customer-info\">\n                <div class=\"black-box\">\n                    <div class=\"yellow-bar\">\n                        {% if doc.grand_total >= 0 and not is_return %}{{ \"Delivered To\" }}{% else %}{{ \"Returned By\" }}{% endif %}\n                    </div>\n                    <div class=\"box-content-left\" id=\"customer\">{{ doc.customer_name }}<br>{% if doc.address_display %}{{ doc.address_display }}{% endif %}</div>\n                </div>\n            </td>\n        \n            <!-- Document Information -->\n            <td class=\"layout-cell\" id=\"document-info\">\n                <table class=\"layout-table\">\n                    <tbody>\n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\" id=\"date-cell\">\n                                <div class=\"black-box\">\n                                    <div class=\"yellow-bar\">\n                                       {% if doc.grand_total >= 0 and not is_return %}{{ \"Delivery Date\" }}{% else %}{{ \"Return Date\" }}{% endif %}\n                                    </div>\n                                    <div class=\"box-content-center\" id=\"date\">{% if doc.posting_date %}{{ doc.get_formatted('posting_date') }}{% else %}NOT POSTED{% endif %}</div>\n                                </div>\n                            </td>\n                            <td class=\"layout-cell\" id=\"page-cell\">\n                                <div class=\"black-box\">\n                                    <div class=\"yellow-bar\">Page</div>\n                                    <div class=\"box-content-center\" id=\"page\">{{ page_count.value }} of {{ page_total.value }}</div>\n                                </div>                                \n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n                <table class=\"layout-table\">\n                    <tbody>\n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\" id=\"document-number-cell\">\n                                <div class=\"black-box\">\n                                    <div class=\"yellow-bar\">\n                                        {% if doc.grand_total >= 0 and not is_return %}{{ \"Delivery Note Number\" }}{% else %}{{ \"Sales Return Number\" }}{% endif %}\n                                    </div>\n                                    <div class=\"box-content-center\" id=\"document-number\">\n                                        {% if doc.name %}{{ doc.name }}{% endif %}\n                                    </div>\n                                </div>\n                            </td>                            \n                        </tr>                        \n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\" id=\"other-number-cell\">\n                                <div class=\"black-box\">\n                                    {% if not doc.items[0].against_sales_order %}\n                                              <div class=\"yellow-bar\">Order Number</div>\n                                                <div class=\"box-content-center\" id=\"other-number\">\n                                                    Not Linked                                      \n                                                </div>                                            \n                                    {% else %}\n                                        <div class=\"yellow-bar\">Order Number</div>\n                                        <div class=\"box-content-center\" id=\"other-number\">\n                                            {{ doc.items[0].against_sales_order }}                                      \n                                        </div>\n                                    {% endif %}\n                                </div>\n                            </td>                            \n                        </tr>\n                    </tbody>\n                </table>\n            </td>\n        \n        </tr>\n        </tbody>\n    </table>\n    <table class=\"layout-table\">\n        <tbody>\n            <tr class=\"layout-row\">\n                <td class=\"layout-cell\" id=\"transporter-cell\">\n                    <div class=\"black-box\">\n                        <div class=\"yellow-bar\">Transporter</div>\n                        <div class=\"box-content-center\" id=\"transporter\">\n                            {% if doc.transporter_name %}{{ doc.transporter_name }}{% endif %}\n                        </div>\n                    </div>                    \n                </td>\n                <td class=\"layout-cell\" id=\"driver-cell\">\n                    <div class=\"black-box\">\n                        <div class=\"yellow-bar\">Driver</div>\n                        <div class=\"box-content-center\" id=\"driver\">\n                           {% if doc.driver_name %}{{ doc.driver_name }}{% endif %}\n                        </div>\n                    </div>                    \n                </td>\n                <td class=\"layout-cell\" id=\"customer-ref-cell\">\n                    <div class=\"black-box\">\n                        {% if doc.grand_total >= 0 and not is_return %}\n                            <div class=\"yellow-bar\">Customer PO/Ref</div>\n                            <div class=\"box-content-center\" id=\"customer-ref\">\n                                {{ doc.po_no }}\n                            </div>\n                        {% else %}\n                            <div class=\"yellow-bar\">Return Against</div>\n                            <div class=\"box-content-center\" id=\"customer-ref\">\n                                {{ doc.return_against }}\n                            </div>   \n                        {% endif %}\n                    </div>                    \n                </td>\n                <td class=\"layout-cell\" id=\"salesperson-cell\">\n                    <div class=\"black-box\">\n                        <div class=\"yellow-bar\">Salesperson</div>\n                        <div class=\"box-content-center\" id=\"salesperson\">\n                            {{ doc.sales_person |default(\"Eskill Sales Team\", true) }}\n                        </div>\n                    </div>                    \n                </td>\n                \n                \n            </tr>\n        </tbody>\n    </table>\n\n\n</div>\n<div id=\"middle-section\">\n    <div class=\"black-box\" id=\"middle-section-div\">\n        <table id=\"items\" class=\"layout-table\">\n            <tbody>\n                <tr class=\"layout-row\">\n                    <td class=\"layout-cell\" id=\"item-line\"><div class=\"yellow-head-left\" style=\"border-top-left-radius: 2px; border-bottom-left-radius: 2px;\">Line</div></td>\n                    <td class=\"layout-cell\" id=\"item-item\"><div class=\"yellow-head-left\">Item</div></td>\n                    <td class=\"layout-cell\" id=\"item-description\"><div class=\"yellow-head-left\">Description</div></td>\n                    <td class=\"layout-cell\" id=\"item-weight\"><div class=\"yellow-head-right\">Weight (U)</div></td>\n                    <td class=\"layout-cell\" id=\"item-weight-total\"><div class=\"yellow-head-right\">Weight (T)</div></td>\n                    <td class=\"layout-cell\" id=\"item-qty\"><div class=\"yellow-head-right\">Qty</div></td>\n                    <td class=\"layout-cell\" id=\"item-uom\"><div class=\"yellow-head-center\" style=\"border-top-right-radius: 2px; border-bottom-right-radius: 2px;\">UOM</div></td>\n                </tr>\n\n{% endmacro %}\n\n\n{% macro pagefooter() %}\n    </tbody></table>\n    </div>\n</div>\n<div id=\"total-section\">\n    <table class=\"layout-table\">\n        <tr class=\"layout-row\">\n            <td class=\"layout-cell\" id=\"instructions-cell\">\n                <div class=\"yellow-box\" id=\"instructions\">\n                    <div class=\"yellow-bar\">Instructions</div>\n                        <div class=\"instructions-text\">\n                            {% if doc.instructions %}{{ doc.instructions | truncate(480, false) }}{% endif %}\n                        </div>\n                </div>\n                <div class=\"filled-grey-box\">\n                    <div class=\"box-content-center\" style=\"font-size: 7pt; color: #000000 !important;\">\n                        {% if doc.terms %}{{ doc.terms }}{% endif %}\n                    </div>\n                </div>\n            </td>\n            <td class=\"layout-cell\" id=\"totals-info-cell\">\n                <div class=\"black-box\" id=\"totals-info\">\n                    <table class=\"layout-table\">\n                        <tr class=\"layout-row\" style=\"border-top: 2px solid #ffbc1f;\">\n                            <td class=\"layout-cell\"><div class=\"cell-content-left\" style=\"font-size: 11pt;\"><strong>TOTAL QUANTITY</strong></div></td>\n                            <td class=\"layout-cell\"><div class=\"cell-content-right\" style=\"font-size: 11pt;\"><strong>{{ doc.total_qty }}</strong></div></td>\n                        </tr>\n                        {% if doc.total_net_weight %}\n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\"><div class=\"cell-content-left\" style=\"font-size: 11pt;\"><strong>TOTAL NET WEIGHT</strong></div></td>\n                            <td class=\"layout-cell\"><div class=\"cell-content-right\" style=\"font-size: 11pt;\"><strong>{{ doc.total_net_weight }}</strong></div></td>\n                        </tr>\n                        {% endif %}\n                    </table>\n\n                </div>\n                \n            </td>\n        </tr>\n    </table>\n</div>\n\n<div id=\"fiscal-signature\"></div>\n<div id=\"footer\">\n    <div id=\"customer-signature\">\n        {% if doc.grand_total >= 0 and not is_return %}\n            <p>Items Received In Good Order (Customer Signature)</p>\n        {% else %}\n            <p>Items Returned In Good Order (Stock Controller Signature)</p>\n        {% endif %}\n    </div>\n</div>\n\n{% endmacro %}\n\n{% set line_total = namespace(value=0) %}\n{% set page_total = namespace(value=0) %}\n{% set page_count = namespace(value=1) %}\n{% set line_count = namespace(value=0) %}\n{% set free_line_count = namespace(value=0) %}\n{% set break_now = namespace(value=0) %}\n\n{% for item in doc.items %}\n    {% set wrapped_description %}\n        {{ item.item_name | wordwrap(50,true,'<br>') }}\n\n        {% if item.reason_for_return %}\n            <br>{{ '(' ~ item.reason_for_return ~ ')' | wordwrap(50,true,'<br>') }})\n        {% endif %}\n\n        {% if item.serial_no %}\n            <br><em>\n            {% set serial_list = item.serial_no.split('\\n') %}\n            {% for serial in serial_list %}\n                {{ serial | truncate(50,true) }}\n                {% if not loop.last %}<br>{% endif %}\n            {% endfor %}\n            </em>\n        {% endif %}\n    {% endset %}\n    {% set line_list = wrapped_description.split('<br>') %}\n    {% set this_line_count | float %}{{ line_list | count }}{% endset %}\n    {% set line_total.value = line_total.value + this_line_count %}\n    {% set page_float = line_total.value / 27 %}\n    {% set page_total.value = page_float | round(0, 'ceil') | int %}\n{% endfor %}\n\n{{ pageheader() }}\n\n{% for item in doc.items %}\n    {% set itemloop = loop %}\n    {% set wrapped_description %}\n        {{ item.item_name | wordwrap(50,true,'<br>') }}\n\n        {% if item.reason_for_return %}\n            {% set item_reason = '(' ~ item.reason_for_return ~ ')' %}\n            <br>{{ item_reason | wordwrap(50,true,'<br>') }}\n        {% endif %}\n\n        {% if item.serial_no %}\n            <br><em>\n            {% set serial_list = item.serial_no.split('\\n') %}\n            {% for serial in serial_list %}\n                {{ serial | truncate(50,true) }}\n                {% if not loop.last %}<br>{% endif %}\n            {% endfor %}\n            </em>\n        {% endif %}\n    {% endset %}\n    {% set line_list = wrapped_description.split('<br>') %}\n    {% set this_line_count | float %}{{ line_list | count }}{% endset %}\n    {% if line_count.value == 27 %}\n        {{ pagefooter() }}\n        <div style=\"page-break-before: always;\"></div>\n        {% set page_count.value = page_count.value + 1 %}\n        {% set line_count.value = 0 %}\n        {{ pageheader() }}\n    {% endif %}\n    {% if loop.last %}\n        {% set free_line_count.value = 27 - line_count.value - this_line_count %}\n        {% if free_line_count.value >= 0 %}\n            <tr class=\"layout-row\" style=\"border-bottom: 3px solid #ffbc1f;\">\n        {% else %}\n            <tr class=\"layout-row\">\n        {% endif %}\n    {% else %}\n        <tr class=\"layout-row\">\n    {% endif %}\n\n            <td class=\"layout-cell\" id=\"item-line\"><div class=\"cell-content-left\">{{ item.idx }}</div></td>\n            <td class=\"layout-cell\" id=\"item-item\"><div class=\"cell-content-left\">{{ item.item_code | truncate(15, True) }}</div></td>\n            <td class=\"layout-cell\" id=\"item-description\">\n                <div class=\"cell-content-left\">\n                    {% for line in line_list %}\n                        {{ line }}\n                        {% if not loop.last and line_count.value < 27 %}<br>{% endif %}\n                        {% set line_count.value = line_count.value + 1 %}\n                        {% if line_count.value == 27 and not loop.last %}\n                            </div></td>\n                            <td class=\"layout-cell\" id=\"item-weight\"><div class=\"cell-content-right\">{% if item.weight_per_unit %}{{ item.weight_per_unit  }}{{ item.weight_uom }}{% endif %}</div></td>\n                            <td class=\"layout-cell\" id=\"item-weight-total\"><div class=\"cell-content-right\">{% if item.total_weight %}{{ item.total_weight }}{{ item.weight_uom }}{% endif %}</div></td>                            \n                            <td class=\"layout-cell\" id=\"item-qty\"><div class=\"cell-content-right\">{% if item.qty is divisibleby(1) %}{{ item.qty | int }}{% else %}{{ item.qty }}{% endif %}</div></td>\n                            <td class=\"layout-cell\" id=\"item-uom\"><div class=\"cell-content-center\">{{ item.uom }}</div></td>\n                            </tr>\n                            {% set break_now.value = 1 %}\n                            {{ pagefooter() }}\n                            <div style=\"page-break-before: always;\"></div>\n                            {% set page_count.value = page_count.value + 1 %}\n                            {% set line_count.value = 0 %}\n                            {{ pageheader() }}\n                            {% if itemloop.last %}\n                                <tr class=\"layout-row\" style=\"border-bottom: 3px solid #ffbc1f;\">\n                                {% set free_line_count.value = 27 - line_count.value - this_line_count + loop.index %}\n                            {% else %}\n                                <tr class=\"layout-row\">\n                            {% endif %}\n                                <td class=\"layout-cell\" id=\"item-line\"><div class=\"cell-content-left\"></div></td>\n                                <td class=\"layout-cell\" id=\"item-item\"><div class=\"cell-content-left\"></div></td>\n                                <td class=\"layout-cell\" id=\"item-description\">\n                                    <div class=\"cell-content-left\">\n                        {% endif %}\n                    {% endfor %}\n                </div>\n            </td>\n            <td class=\"layout-cell\" id=\"item-weight\"><div class=\"cell-content-right\">{% if break_now.value != 1 and item.weight_per_unit %}{{ item.weight_per_unit }}{{ item.weight_uom }}{% endif %}</div></td>\n            <td class=\"layout-cell\" id=\"item-weight-total\"><div class=\"cell-content-right\">{% if break_now.value != 1 and item.total_weight %}{{ item.total_weight }}{{ item.weight_uom }}{% endif %}</div></td>\n            <td class=\"layout-cell\" id=\"item-qty\"><div class=\"cell-content-right\">{% if break_now.value != 1 %}{% if item.qty is divisibleby(1) %}{{ item.qty | int }}{% else %}{{ item.qty }}{% endif %}{% endif %}</div></td>\n            <td class=\"layout-cell\" id=\"item-uom\"><div class=\"cell-content-center\">{% if break_now.value != 1 %}{{ item.uom }}{% endif %}</div></td>\n            {% set break_now.value = 0 %}\n        </tr>\n        \n    {% if loop.last and free_line_count.value > 9 and free_line_count.value < 20 %}\n        </tbody></table>\n        {% set divheight = free_line_count.value * 12 %}\n        {% set divstyle = 'style=\\\"height: ' ~ divheight ~ 'pt;\\\"' %}\n        <div class=\"banner120pt\" {{ divstyle }}>\n            {% set bannerlist = namespace(path=[]) %}\n            {% set banners = frappe.get_all('Banner', filters={'allow_for_print': '1', 'banner_size': 'Height 160px/120pt'}, fields=['file_path']) %}\n            {% for banner in banners %}\n                {% if loop.first %}\n                    {% set bannerlist.path = [ banner.file_path ] %}\n                {% else %}\n                    {% set bannerlist.path = [ bannerlist.path, banner.file_path ] %}\n                {% endif %}\n            {% endfor %}\n            {% set banner_path = bannerlist.path|random %}\n            {% set banner_image = '<img src=\\\"' ~ banner_path ~ '\\\">' | safe %}\n            {% if banner_path %}<div id=\"banner\">{{ banner_image }}</div>{% endif %}\n        </div>\n       \n\n    {% elif loop.last and free_line_count.value >= 20 %}\n        </tbody></table>       \n        {% set divheight = free_line_count.value * 12 %}\n        {% set divstyle = 'style=\\\"height: ' ~ divheight ~ 'pt;\\\"' %}\n        <div class=\"banner240pt\" {{ divstyle }}>\n            {% set bannerlist = namespace(path=[]) %}\n            {% set banners = frappe.get_all('Banner', filters={'allow_for_print': '1', 'banner_size': 'Height 320px/240pt'}, fields=['file_path']) %}\n            {% for banner in banners %}\n                {% if loop.first %}\n                    {% set bannerlist.path = [ banner.file_path ] %}\n                {% else %}\n                    {% set bannerlist.path = [ bannerlist.path, banner.file_path ] %}\n                {% endif %}\n            {% endfor %}\n            {% set banner_path = bannerlist.path|random %}\n            {% set banner_image = '<img src=\\\"' ~ banner_path ~ '\\\">' | safe %}\n            {% if banner_path %}<span id=\"banner\">{{ banner_image }}</span>{% endif %}            \n        </div>\n        \n\n    {% endif %}\n{% endfor %}\n\n{{ pagefooter() }}\n",
  "line_breaks": 0,
  "modified": "2020-09-25 14:54:02.809117",
  "module": "Stock",
  "name": "Eskill Delivery Note",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "print_format_builder": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "Yes"
 },
 {
  "align_labels_right": 0,
  "css": "@font-face {\n\tfont-family: DaxlinePro;\n\tfont-style: normal;\n\tfont-weight: 300;\n\tsrc: url(/fonts/DaxlinePro.ttf);\n}\n\n@font-face {\n\tfont-family: Neuropol;\n\tfont-style: normal;\n\tfont-weight: 300;\n\tsrc: url(/fonts/NeuropolXRG.ttf);\n}\n\n.print-format { \n    padding: 0mm !important;\n    font-family: 'DaxlinePro';\n}\n\nbody, p, span, div, element {\n    color: #474c51;\n    letter-spacing: normal !important;\n}\n\n#header-image {\n    background-image: url(/files/Eskill_Header.jpg);\n    display: table;\n    width: 100%;\n    background-size: 211mm;\n    background-repeat: no-repeat;\n    height: 38mm;\n    background-position: left top;\n    padding-top: 7mm !important;\n}\n\n.layout-table, .layout-row, .layout-div {\n    margin: 0 !important;\n    padding: 0 !important;\n    width: 100% !important;\n}\n\n.layout-cell {\n    margin: 0 !important;\n    padding: 0 !important;\n    height: 100%;\n    vertical-align: top;\n}\n\n\n\n#print-heading {\n    font-size: 18pt;\n    font-weight: bold;\n    line-height: 1;\n    padding: 0mm !important;\n    margin-top: 4mm !important;\n    margin-right: 6mm !important;\n    margin-bottom: 3mm !important;\n    text-align: right;\n}\n\n#company-info-cell {\n    width: 40%;\n}\n\n#company-info {\n    font-size: 8pt;\n    margin-left: 6mm !important;\n}\n\n#project-name-cell {\n    width: 35%;\n    vertical-align: bottom;\n}\n\n#tax-info-cell {\n    width: 25%;\n}\n\n#tax-info {\n    font-size: 8pt;\n    text-align: right;\n    margin-right: 5mm;\n    margin-top: 5mm;\n}\n\n#tax-info p {\n    margin: 0;\n    padding: 0;\n}\n\n#top-info {\n    margin-left: 7mm;\n    margin-right: 7mm;\n}\n\n#middle-section {\n    margin-left: 7mm;\n    margin-right: 7mm;\n}\n\n#middle-section-div {\n    min-height: 12cm;\n    height: 12cm;\n}\n\n#total-section {\n    margin-left: 7mm;\n    margin-right: 7mm;\n    margin-bottom: 1mm;\n    height: 43mm;\n    max-height: 43mm;\n    min-height: 43mm;\n    overflow: hidden;\n}\n\n.black-box {\n    border: 1px solid #474c51;\n    border-radius: 3px;\n    padding: 0.5mm;\n    margin-left: 1mm;\n    margin-bottom: 1mm;\n    width: auto;\n    height: auto;\n    overflow: hidden;\n    min-height: 12mm;\n}\n\n.yellow-box {\n    border: 1px solid #ffbc1f;\n    border-radius: 3px;\n    background-color: #ffbc1f;\n    padding: 0.5mm;\n    margin-left: 1mm;\n    margin-bottom: 1mm;\n    width: auto;\n    height: auto;\n    overflow: hidden;\n    min-height: 12mm;\n}\n\n.yellow-bar {\n    background-color: #ffbc1f;\n    border-radius: 2px;\n    width: 100%;\n    text-align: center;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #252525;\n}\n\n.filled-grey-box {\n    border: 1px solid #cfcfcf;\n    border-radius: 3px;\n    background-color: #cfcfcf;\n    padding: 1mm;\n    margin-left: 1mm;\n    margin-bottom: 1mm;\n    width: auto;\n    height: 12mm;\n    overflow: hidden;\n    min-height: 12mm;\n    max-height: 12mm;\n    color: #000000 !important;\n}\n\n.black-bar {\n    border-bottom: 1px solid #252525;\n    width: 100%;\n    text-align: center;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #252525;\n}\n\n.box-content-left {\n    padding: 1mm;\n    font-size: 9pt;\n    text-align: left;\n    overflow: hidden;\n}\n\n.box-content-center {\n    padding: 1mm;\n    font-size: 9pt;\n    text-align: center;\n    overflow: hidden;\n}\n\n.box-content-right {\n    padding: 1mm;\n    font-size: 9pt;\n    text-align: right;\n    overflow: hidden;\n}\n\n#customer-info {\n    width: 65%;\n    padding: 0 !important;\n    height: auto;\n}\n\n#customer {\n    height: 33mm;\n    max-height: 33mm;\n    min-height: 33mm;\n}\n\n#document-info {\n    width: 35%;\n    padding: 0 !important;\n}\n\n#document-number-cell {\n    margin: 0 !important;\n    padding: 0!important;\n    height: 12mm;\n    vertical-align: middle;\n}\n\n#page-cell, #date-cell, #other-number-cell, #exchange-rate-cell, #customer-vat-cell, #customer-ref-cell {\n    margin: 0 !important;\n    padding: 0!important;\n    height: 12mm;\n    vertical-align: middle;\n}\n\n#document-number {\n    font-weight: bold;\n    font-size: 12pt;\n}\n\n#customer-currency-cell {\n    width: 10%;\n    margin: 0 !important;\n    padding: 0!important;\n    height: 12mm;\n    vertical-align: middle;\n}\n\n#salesperson-cell {\n    width: 35%;\n    margin: 0 !important;\n    padding: 0!important;\n    height: 12mm;\n    vertical-align: middle;\n}\n\n#other-number, #customer-currency, #exchange-rate, #customer-vat, #customer-ref, #salesperson {\n    font-weight: normal;\n    font-size: 9pt;\n}\n\n.project-name {\n    padding: 0mm;\n    font-size: 8pt;\n    text-align: center;\n    overflow: hidden;\n    font-weight: bold;\n    vertical-align: middle !important;\n    height: 40px !important;\n    max-height: 40px !important;\n    border-radius: 4px;\n}\n\n#project-text {\n    display: table;\n    float: left;\n    text-align: left;\n}\n\n#project-text p {\n        display: table-cell;\n        vertical-align: middle !important;\n        height: 40px;\n        min-height: 40px;\n        max-height: 40px;\n}\n\n#project-icon {\n    display: inline-block;\n    width: 40px !important;\n    height: 40px !important;\n    max-height: 40px !important;\n    object-fit: none;\n    float: left;\n}\n\n.yellow-head-center {\n    background-color: #ffbc1f;\n    width: 100%;\n    text-align: center;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #2a2a2a;\n    padding: 0 5px 0 5px;\n}\n\n.yellow-head-left {\n    background-color: #ffbc1f;\n    width: 100%;\n    text-align: left;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #2a2a2a;\n    padding: 0 5px 0 5px;\n}\n\n.yellow-head-right {\n    background-color: #ffbc1f;\n    width: 100%;\n    text-align: right;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #2a2a2a;\n    padding: 0 5px 0 5px;\n}\n\n#items {\n    table-layout: fixed;\n}\n\n#item-line { width: 5% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#item-item { width: 16% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#item-description { width: 45% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#item-qty { width: 5% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#item-price { width: 11% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#item-uom { width: 7% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#item-total { width: 11% !important; padding: 0 !important; }\n\n#item-line, #item-item, #item-qty, #item-uom, #item-price, #item-total, #item-description {\n    height: auto;\n}\n\n#item-line div, #item-item div, #item-qty div, #item-uom div, #item-price div, #item-total div { \n    overflow: hidden;\n    max-height: 12pt;\n    height: 12pt;\n}\n\n#item-description div.yellow-head-left, #item-description div.yellow-head-center, #item-description div.yellow-head-right {\n    max-height: 12pt;\n    height: 12pt;\n}\n\n.cell-content-center {\n    width: 100%;\n    text-align: center;\n    line-height: 1.5;\n    font-size: 8pt !important;\n    font-weight: normal;\n    padding: 0 5px 0 5px;\n}\n\n.cell-content-left {\n    width: 100%;\n    text-align: left;\n    line-height: 1.5;\n    font-size: 8pt !important;\n    font-weight: normal;\n    padding: 0 5px 0 5px;\n}\n\n.cell-content-right {\n    width: 100%;\n    text-align: right;\n    line-height: 1.5;\n    font-size: 8pt !important;\n    font-weight: normal;\n    padding: 0 5px 0 5px;\n}\n\n#additional-notes-cell {\n    width: 65%;\n    padding: 0 !important;\n}\n\n#additional-notes {\n    height:30mm;\n    min-height: 30mm;\n    max-height: 30mm;\n    overflow: hidden;\n}\n\n.additional-notes-text {\n    font-size: 8pt;\n    color: #2f3031;\n    padding: 2mm;\n}\n\n#totals-info-cell {\n    width: 35%;\n    padding: 0 !important;\n}\n\n#totals-info {\n    height: 43mm;\n    max-height: 43mm;\n    min-height: 43mm;\n}\n\n#message {\n    font-family: Neuropol;\n    font-size: 6mm;\n    height: 10mm;\n    min-height: 10mm;\n    max-height: 10mm;\n    margin-left: 8mm;\n    margin-right: 7mm;\n    margin-top: 10mm;\n    text-align: left;\n    width: 100%;\n}\n\n#footer {\n    display: table;\n    width: 100%;\n    background-image: url(/files/Eskill_Footer.jpg);\n    background-size: 211mm;\n    background-repeat: no-repeat;\n    height: 24mm;\n    background-position: left bottom;\n}\n\n#customer-signature {\n    display: table-cell;\n    vertical-align: bottom;\n    margin: 0;\n    font-size: 8pt;\n}\n\n#customer-signature p {\n    border-top: 1px dotted #000;\n    font-size: 8pt;\n    width: 120mm;\n    margin-left: 20mm;\n    margin-bottom: 6mm;\n    text-align: center;\n    padding-top: 1mm;\n}\n\n.banner120pt {\n    display: table;\n    min-height: 120pt;\n    width: 100%;\n    text-align: center;\n    opacity: 0.2;\n}\n\n.banner240pt {\n    display: table;\n    min-height: 240pt;\n    width: 100%;\n    text-align: center;\n    opacity: 0.2;\n}\n\n#banner {\n    display: table-cell;\n    vertical-align: middle !important;\n}\n\n#banner img {\n    vertical-align: middle !important;\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Purchase Order",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "format_data": null,
  "html": "{% macro pageheader() %}\n\n<!DOCTYPE html>\n\n<div id=\"header-image\" class=\"layout-div\">\n    \n    <div id=\"print-heading\">{{ \"PURCHASE ORDER\" }}</div>\n\n    <!-- Company Information -->\n    <table class=\"layout-table\">\n        <tbody>\n        <tr class=\"layout-row\">\n            <td class=\"layout-cell\" id=\"company-info-cell\">\n                <div id=\"company-info\">\n                    <p>{{ frappe.db.get_value(\"Address\", \"Eskill Trading-Office\", \"address_line1\") }}, {{ frappe.db.get_value(\"Address\", \"Eskill Trading-Office\", \"address_line2\") }}, {{ frappe.db.get_value(\"Address\", \"Eskill Trading-Office\", \"city\") }}</p>\n                    <p>Phone: {{ frappe.db.get_value(\"Address\", \"Eskill Trading-Office\", \"phone\") }}<br>Email: {{ frappe.db.get_value(\"Address\", \"Eskill Trading-Office\", \"email_id\") }}</p>\n                </div>\n            </td>\n            \n            \n            <td class=\"layout-cell\" id=\"project-name-cell\">\n\n            </td>\n            \n            <!-- Tax Information -->\n            <td class=\"layout-cell\" id=\"tax-info-cell\">\n                <div id=\"tax-info\">\n                    <p>VAT Number: {{ frappe.db.get_value(\"Company\", \"Eskill Trading (Pvt) Ltd\", \"tax_id\") }}</p>\n                    <p>BP Number: {{ frappe.db.get_value(\"Company\", \"Eskill Trading (Pvt) Ltd\", \"bp_number\") }}</p>\n                </div>\n            </td>\n        </tr>\n        </tbody>\n    </table>\n</div>\n<div id=\"top-info\">\n    <table class=\"layout-table\">\n        <tbody>\n        <tr class=\"layout-row\">\n            \n            <!-- Customer Name and Address -->\n            <td class=\"layout-cell\" id=\"customer-info\">\n                <div class=\"black-box\">\n                    <div class=\"yellow-bar\">\n                        {{ \"Ordered From\" }}\n                    </div>\n                    <div class=\"box-content-left\" id=\"customer\">{{ doc.supplier_name }}<br>{% if doc.address_display %}{{ doc.address_display }}{% endif %}</div>\n                </div>\n            </td>\n        \n            <!-- Document Information -->\n            <td class=\"layout-cell\" id=\"document-info\">\n                <table class=\"layout-table\">\n                    <tbody>\n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\" id=\"date-cell\">\n                                <div class=\"black-box\">\n                                    <div class=\"yellow-bar\">\n                                        {{ \"Order Date\" }}\n                                    </div>\n                                    <div class=\"box-content-center\" id=\"date\">{% if doc.transaction_date %}{{ doc.get_formatted('transaction_date') }}{% else %}MISSING{% endif %}</div>\n                                </div>\n                            </td>\n                            <td class=\"layout-cell\" id=\"page-cell\">\n                                <div class=\"black-box\">\n                                    <div class=\"yellow-bar\">Page</div>\n                                    <div class=\"box-content-center\" id=\"page\">{{ page_count.value }} of {{ page_total.value }}</div>\n                                </div>                                \n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n                <table class=\"layout-table\">\n                    <tbody>\n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\" id=\"document-number-cell\">\n                                <div class=\"black-box\">\n                                    <div class=\"yellow-bar\">\n                                        {{ \"Order Number\" }}\n                                    </div>\n                                    <div class=\"box-content-center\" id=\"document-number\">\n                                        {% if doc.name %}{{ doc.name }}{% endif %}\n                                    </div>\n                                </div>\n                            </td>                            \n                        </tr>                        \n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\" id=\"other-number-cell\">\n                                <div class=\"black-box\">\n                                    <div class=\"yellow-bar\">Quote Number</div>\n                                        <div class=\"box-content-center\" id=\"other-number\">\n                                                                                  \n                                        </div>\n                                </div>\n                            </td>                            \n                        </tr>\n                    </tbody>\n                </table>\n            </td>\n        \n        </tr>\n        </tbody>\n    </table>\n    <table class=\"layout-table\">\n        <tbody>\n            <tr class=\"layout-row\">\n                <td class=\"layout-cell\" id=\"customer-currency-cell\">\n                    <div class=\"black-box\">\n                        <div class=\"yellow-bar\">Currency</div>\n                        <div class=\"box-content-center\" id=\"customer-currency\">\n                            {{ doc.currency }}\n                        </div>\n                    </div>                    \n                </td>\n                <td class=\"layout-cell\" id=\"exchange-rate-cell\">\n                    <div class=\"black-box\">\n                        <div class=\"yellow-bar\">Rate</div>\n                        <div class=\"box-content-center\" id=\"exchange-rate\">\n                            {% if doc.conversion_rate %}{{ doc.conversion_rate }}{% endif %}\n                        </div>\n                    </div>                    \n                </td>\n                <td class=\"layout-cell\" id=\"customer-vat-cell\">\n                    <div class=\"black-box\">\n                        <div class=\"yellow-bar\">Customer VAT</div>\n                        <div class=\"box-content-center\" id=\"customer-vat\">\n                            {% set thissupplier= frappe.get_doc(\"Supplier\", doc.supplier) %}\n                            {% if thissupplier.tax_id %}{{ thissupplier.tax_id }}{% endif %}\n                        </div>\n                    </div>                    \n                </td>\n                <td class=\"layout-cell\" id=\"customer-ref-cell\">\n                    <div class=\"black-box\">\n                        <div class=\"yellow-bar\">Customer PO/Ref</div>\n                        <div class=\"box-content-center\" id=\"customer-ref\">\n                            \n                        </div>\n                    </div>                    \n                </td>\n                <td class=\"layout-cell\" id=\"salesperson-cell\">\n                    <div class=\"black-box\">\n                        <div class=\"yellow-bar\">Salesperson</div>\n                        <div class=\"box-content-center\" id=\"salesperson\">\n                            \n                        </div>\n                    </div>                    \n                </td>\n                \n                \n            </tr>\n        </tbody>\n    </table>\n\n\n</div>\n<div id=\"middle-section\">\n    <div class=\"black-box\" id=\"middle-section-div\">\n        <table id=\"items\" class=\"layout-table\">\n            <tbody>\n                <tr class=\"layout-row\">\n                    <td class=\"layout-cell\" id=\"item-line\"><div class=\"yellow-head-left\" style=\"border-top-left-radius: 2px; border-bottom-left-radius: 2px;\">Line</div></td>\n                    <td class=\"layout-cell\" id=\"item-item\"><div class=\"yellow-head-left\">Item</div></td>\n                    <td class=\"layout-cell\" id=\"item-description\"><div class=\"yellow-head-left\">Description</div></td>\n                    <td class=\"layout-cell\" id=\"item-qty\"><div class=\"yellow-head-right\">Qty</div></td>\n                    <td class=\"layout-cell\" id=\"item-uom\"><div class=\"yellow-head-center\">UOM</div></td>\n                    <td class=\"layout-cell\" id=\"item-price\"><div class=\"yellow-head-right\">Unit Price</div></td>\n                    <td class=\"layout-cell\" id=\"item-total\"><div class=\"yellow-head-right\" style=\"border-top-right-radius: 2px; border-bottom-right-radius: 2px;\">Total</div></td>\n                </tr>\n\n{% endmacro %}\n\n\n{% macro pagefooter() %}\n    </tbody></table>\n    </div>\n</div>\n<div id=\"total-section\">\n    <table class=\"layout-table\">\n        <tr class=\"layout-row\">\n            <td class=\"layout-cell\" id=\"additional-notes-cell\">\n                {% set banks = frappe.get_all('Bank Account', filters={'display_on_invoice': '1'}, fields=['bank_account_no', 'branch_code', 'display_name', 'account_type' ], order_by='account_type') %}\n                <div class=\"yellow-box\" id=\"additional-notes\">\n                    <div class=\"yellow-bar\">Additional Notes</div>\n                        <div class=\"additional-notes-text\">\n                            {% if doc.additional_notes %}{{ doc.additional_notes | truncate(480, false) }}{% endif %}\n                        </div>\n                </div>\n                <div class=\"filled-grey-box\">\n                    <div class=\"box-content-center\" style=\"font-size: 7pt; color: #000000 !important;\">\n                        {% if doc.terms %}{{ doc.terms }}{% endif %}\n                    </div>\n                </div>\n            </td>\n            <td class=\"layout-cell\" id=\"totals-info-cell\">\n                <div class=\"black-box\" id=\"totals-info\">\n                    <table class=\"layout-table\">\n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\"><div class=\"cell-content-left\">Sub-Total</div></td>\n                            <td class=\"layout-cell\"><div class=\"cell-content-right\">{{ \"{:,.2f}\".format(doc.net_total) }}</div></td>\n                        </tr>                        \n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\"><div class=\"cell-content-left\">Discount</div></td>\n                            <td class=\"layout-cell\"><div class=\"cell-content-right\">{{ \"{:,.2f}\".format(doc.discount_amount) }}</div></td>\n                        </tr> \n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\"><div class=\"cell-content-left\">VAT</div></td>\n                            <td class=\"layout-cell\"><div class=\"cell-content-right\">{{ \"{:,.2f}\".format(doc.total_taxes_and_charges) }}</div></td>\n                        </tr>\n                        <tr class=\"layout-row\" style=\"border-top: 2px solid #ffbc1f;\">\n                            <td class=\"layout-cell\"><div class=\"cell-content-left\" style=\"font-size: 11pt;\"><strong>TOTAL</strong></div></td>\n                            <td class=\"layout-cell\"><div class=\"cell-content-right\" style=\"font-size: 11pt;\"><strong>{{ \"{:,.2f}\".format(doc.grand_total) }}</strong></div></td>\n                        </tr>\n                    </table>\n                    <table class=\"layout-table\">\n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\">\n                                <div class=\"cell-content-center\" style=\"font-size: 9pt;\"><em><strong>\n                                    {% set thiscurrency= frappe.get_doc(\"Currency\", doc.currency) %}\n                                    ({{ thiscurrency.display_name }})\n                                </strong></em></div>\n                            </td>\n                        </tr>\n                    </table>\n                </div>\n                \n            </td>\n        </tr>\n    </table>\n</div>\n\n<div id=\"message\"></div>\n<div id=\"footer\">\n\n</div>\n\n{% endmacro %}\n\n{% set line_total = namespace(value=0) %}\n{% set page_total = namespace(value=0) %}\n{% set page_count = namespace(value=1) %}\n{% set line_count = namespace(value=0) %}\n{% set free_line_count = namespace(value=0) %}\n{% set break_now = namespace(value=0) %}\n\n{% for item in doc.items %}\n    {% set wrapped_description %}\n        {{ item.item_name | wordwrap(50,true,'<br>') }}\n    {% endset %}\n    {% set line_list = wrapped_description.split('<br>') %}\n    {% set this_line_count | float %}{{ line_list | count }}{% endset %}\n    {% set line_total.value = line_total.value + this_line_count %}\n    {% set page_float = line_total.value / 27 %}\n    {% set page_total.value = page_float | round(0, 'ceil') | int %}\n{% endfor %}\n\n{{ pageheader() }}\n\n{% for item in doc.items %}\n    {% set itemloop = loop %}\n    {% set wrapped_description %}\n        {{ item.item_name | wordwrap(50,true,'<br>') }}\n    {% endset %}\n    {% set line_list = wrapped_description.split('<br>') %}\n    {% set this_line_count | float %}{{ line_list | count }}{% endset %}\n    {% if line_count.value == 27 %}\n        {{ pagefooter() }}\n        <div style=\"page-break-before: always;\"></div>\n        {% set page_count.value = page_count.value + 1 %}\n        {% set line_count.value = 0 %}\n        {{ pageheader() }}\n    {% endif %}\n    {% if loop.last %}\n        {% set free_line_count.value = 27 - line_count.value - this_line_count %}\n        {% if free_line_count.value >= 0 %}\n            <tr class=\"layout-row\" style=\"border-bottom: 3px solid #ffbc1f;\">\n        {% else %}\n            <tr class=\"layout-row\">\n        {% endif %}\n    {% else %}\n        <tr class=\"layout-row\">\n    {% endif %}\n\n            <td class=\"layout-cell\" id=\"item-line\"><div class=\"cell-content-left\">{{ item.idx }}</div></td>\n            <td class=\"layout-cell\" id=\"item-item\"><div class=\"cell-content-left\">{{ item.item_code | truncate(15, true) }}</div></td>\n            <td class=\"layout-cell\" id=\"item-description\">\n                <div class=\"cell-content-left\">\n                    {% for line in line_list %}\n                        {{ line }}\n                        {% if not loop.last and line_count.value < 27 %}<br>{% endif %}\n                        {% set line_count.value = line_count.value + 1 %}\n                        {% if line_count.value == 27 and not loop.last %}\n                            </div></td>\n                            <td class=\"layout-cell\" id=\"item-qty\"><div class=\"cell-content-right\">{{ item.qty }}</div></td>\n                            <td class=\"layout-cell\" id=\"item-uom\"><div class=\"cell-content-center\">{{ item.uom }}</div></td>\n                            <td class=\"layout-cell\" id=\"item-price\"><div class=\"cell-content-right\">{{ \"{:,.2f}\".format(item.rate) }}</div></td>\n                            <td class=\"layout-cell\" id=\"item-total\"><div class=\"cell-content-right\">{{ \"{:,.2f}\".format(item.amount) }}</div></td>                        \n                            </tr>\n                            {% set break_now.value = 1 %}\n                            {{ pagefooter() }}\n                            <div style=\"page-break-before: always;\"></div>\n                            {% set page_count.value = page_count.value + 1 %}\n                            {% set line_count.value = 0 %}\n                            {{ pageheader() }}\n                            {% if itemloop.last %}\n                                <tr class=\"layout-row\" style=\"border-bottom: 3px solid #ffbc1f;\">\n                                {% set free_line_count.value = 27 - line_count.value - this_line_count + loop.index %}\n                            {% else %}\n                                <tr class=\"layout-row\">\n                            {% endif %}\n                                <td class=\"layout-cell\" id=\"item-line\"><div class=\"cell-content-left\"></div></td>\n                                <td class=\"layout-cell\" id=\"item-item\"><div class=\"cell-content-left\"></div></td>\n                                <td class=\"layout-cell\" id=\"item-description\">\n                                    <div class=\"cell-content-left\">\n                        {% endif %}\n                    {% endfor %}\n                </div>\n            </td>\n            <td class=\"layout-cell\" id=\"item-qty\"><div class=\"cell-content-right\">{% if break_now.value != 1 %}{{ item.qty }}{% endif %}</div></td>\n            <td class=\"layout-cell\" id=\"item-uom\"><div class=\"cell-content-center\">{% if break_now.value != 1 %}{{ item.uom }}{% endif %}</div></td>\n            <td class=\"layout-cell\" id=\"item-price\"><div class=\"cell-content-right\">{% if break_now.value != 1 %}{{ \"{:,.2f}\".format(item.rate) }}{% endif %}</div></td>\n            <td class=\"layout-cell\" id=\"item-total\"><div class=\"cell-content-right\">{% if break_now.value != 1 %}{{ \"{:,.2f}\".format(item.amount) }}{% endif %}</div></td>                        \n            {% set break_now.value = 0 %}\n        </tr>\n        \n\n\n    \n{% endfor %}\n\n{{ pagefooter() }}\n",
  "line_breaks": 0,
  "modified": "2020-09-26 18:41:34.444339",
  "module": "Buying",
  "name": "Eskill Purchase Order",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "print_format_builder": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "Yes"
 },
 {
  "align_labels_right": 0,
  "css": "@font-face {\n\tfont-family: DaxlinePro;\n\tfont-style: normal;\n\tfont-weight: 300;\n\tsrc: url(/fonts/DaxlinePro.ttf);\n}\n\n@font-face {\n\tfont-family: Neuropol;\n\tfont-style: normal;\n\tfont-weight: 300;\n\tsrc: url(/fonts/NeuropolXRG.ttf);\n}\n\n.print-format { \n    padding: 0mm !important;\n    font-family: 'DaxlinePro';\n}\n\nbody, p, span, div, element {\n    color: #474c51;\n    letter-spacing: normal !important;\n}\n\n#header-image {\n    background-image: url(/files/Eskill_Header.jpg);\n    display: table;\n    width: 100%;\n    background-size: 211mm;\n    background-repeat: no-repeat;\n    height: 18mm;\n    background-position: left top;\n    padding-top: 7mm !important;\n}\n\n#print-heading {\n    font-size: 18pt;\n    font-weight: bold;\n    line-height: 1;\n    padding: 0mm !important;\n    margin-top: 4mm !important;\n    margin-right: 6mm !important;\n    margin-bottom: 3mm !important;\n    text-align: right;\n}\n\n.section {\n    margin-left: 7mm;\n    margin-right: 7mm;\n    display: table;\n    border-collapse: separate;\n    border-spacing: 1mm;\n    width: 197mm !important;\n}\n\n.layout-div {\n    margin: 0 !important;\n    padding: 0 !important;\n    width: 100% !important;\n}\n\n.black-box {\n    border: 1px solid #474c51;\n    border-radius: 3px;\n    padding: 0.5mm;\n    width: auto;\n    height: auto;\n    min-height: 12mm;\n    display: table-cell;\n}\n\n.yellow-bar {\n    background-color: #ffbc1f;\n    border-radius: 2px;\n    width: 100%;\n    text-align: center;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #252525;\n}\n\n.box-content-left {\n    padding: 1mm;\n    font-size: 9pt;\n    text-align: left;\n    width: 100%;\n}\n\n.box-content-center {\n    padding: 1mm;\n    font-size: 9pt;\n    text-align: center;\n    width: 100%;\n}\n\n.box-content-right {\n    padding: 1mm;\n    font-size: 9pt;\n    text-align: right;\n    width: 100%;\n}\n\n.showmore {\n  position: relative;\n  display: inline-block;\n  text-decoration-line: underline;\n  text-decoration-style: dotted;\n  width: 100%;\n}\n\n.showmore .showmoretext, div.showmore span.showmoretext {\n  visibility: hidden;\n  width: 200px;\n  background-color: black;\n  text-align: center;\n  border-radius: 6px;\n  padding: 5px 5px;\n  position: absolute;\n  z-index: 1;\n  bottom: 150%;\n  left: 50%;\n  margin-left: -100px;\n  color: #c8c8c8 !important;\n}\n\n.showmore .showmoretext div, .showmore .showmoretext span, .showmore .showmoretext element {\n  color: #c8c8c8 !important;\n}\n\n.showmore .showmoretext::after {\n  content: \"\";\n  position: absolute;\n  top: 100%;\n  left: 50%;\n  margin-left: -5px;\n  border-width: 5px;\n  border-style: solid;\n  border-color: black transparent transparent transparent;\n}\n\n.showmore:hover .showmoretext {\n  visibility: visible;\n}\n\nhr {\n    margin: 2mm;\n}\n\n#customer-name, #issue {\n    width: 40%;\n}\n\n#timesheet-number {\n    width: 20%;\n}\n\n#hours {\n    width: 5%;\n}\n\n#amount {\n    width: 10%;\n}\n\n.middle-section {\n\n}\n\n.middle-black-box {\n    border: 1px solid #474c51;\n    border-radius: 3px;\n    padding: 0.5mm;\n    height: auto;\n    margin: 0 8mm;\n    width: 195mm !important;\n}\n\n.layout-table, .layout-row, .layout-div {\n    margin: 0 !important;\n    padding: 0 !important;\n    width: 100% !important;\n}\n\n.layout-cell {\n    margin: 0 !important;\n    padding: 0 !important;\n    height: 100%;\n    vertical-align: middle;\n}\n\n#log-activity-type div, #log-time-spent div, #log-project div, #log-task div, #log-billing div, #log-costing div { \n    overflow: hidden;\n    max-height: 12pt;\n    height: 12pt;\n}\n\n#log {\n    table-layout: fixed;\n}\n\n#log-activity-type { width: 27% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#log-time-spent { width: 10% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#log-project { width: 27% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#log-task { width: 16% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#log-billing { width: 10% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#log-costing { width: 10% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n\n.yellow-head-center {\n    background-color: #ffbc1f;\n    width: 100%;\n    text-align: center;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #2a2a2a;\n    padding: 0 5px 0 5px;\n}\n\n.yellow-head-left {\n    background-color: #ffbc1f;\n    width: 100%;\n    text-align: left;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #2a2a2a;\n    padding: 0 5px 0 5px;\n}\n\n.yellow-head-right {\n    background-color: #ffbc1f;\n    width: 100%;\n    text-align: right;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #2a2a2a;\n    padding: 0 5px 0 5px;\n}\n\n.cell-content-center {\n    width: 100%;\n    text-align: center;\n    line-height: 1.5;\n    font-size: 8pt !important;\n    font-weight: normal;\n    padding: 0 5px 0 5px;\n}\n\n.cell-content-left {\n    width: 100%;\n    text-align: left;\n    line-height: 1.5;\n    font-size: 8pt !important;\n    font-weight: normal;\n    padding: 0 5px 0 5px;\n}\n\n.cell-content-right {\n    width: 100%;\n    text-align: right;\n    line-height: 1.5;\n    font-size: 8pt !important;\n    font-weight: normal;\n    padding: 0 5px 0 5px;\n}\n\n.summary {\n    font-weight: bold;\n    text-decoration: underline;\n    text-align: left;\n    color: #474c51;\n}\n\n#summary1 {\n    width: 15%;\n    text-align: left;\n    color: #474c51;\n}\n\n#summary2 {\n    width: 15%;\n    text-align: right;\n    color: #474c51;\n}\n\nsummaryS {\n    width: 20%;\n}\n\n#summaryT1 {\n    width: 15%;\n    text-align: left;\n    font-weight: bold;\n    color: #474c51;\n}\n\n#summaryT2 {\n    width: 15%;\n    text-align: right;\n    font-weight: bold;\n    color: #474c51;\n}\n\n#note-and-space {\n    text-align: right;\n    height: 10mm;\n    min-height: 10mm;\n    max-height: 10mm;\n    margin: 0 7mm;\n    width: 197mm;\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Timesheet",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "format_data": null,
  "html": "{% macro pageheader() %}\n\n<div id=\"header-image\" class=\"layout-div\">\n    <div id=\"print-heading\">{{ doc.employee_name }}<br>\n        {% if doc.start_date and doc.end_date %}\n            {% if doc.start_date == doc.end_date %}\n                {{ frappe.utils.formatdate(doc.start_date, 'dd-MM-yyyy') }}\n            {% else %}\n                {{ frappe.utils.formatdate(doc.start_date, 'dd-MM-yyyy') }}\n                &#8594;\n                {{ frappe.utils.formatdate(doc.end_date, 'dd-MM-yyyy') }}\n            {% endif %}\n        {% endif %}\n    </div>\n</div>\n\n<div>\n    <div class=\"section\">\n        <div class=\"black-box\" id=\"issue\">\n            <div class=\"yellow-bar\">\n                Issue\n            </div>\n            <div class=\"box-content-center\">\n                {% if doc.issue %}\n                    <div class=\"showmore\">\n                        {{ frappe.utils.get_link_to_form('Issue', doc.issue) }}\n                        {% set thisissue = frappe.get_doc(\"Issue\", doc.issue) %}\n                        <span class=\"showmoretext\">{{ thisissue.subject | replace('<br>',' ') | truncate(250,true) }}</span>\n                    </div>\n                {% else %}\n                    {{ \"None\" }}\n                {% endif %}\n            </div>\n        </div>\n        <div class=\"black-box\" id=\"customer-name\">\n            <div class=\"yellow-bar\">\n                Customer\n            </div>\n            <div class=\"box-content-center\">\n                {% if doc.customer %}\n                    {% set thiscustomer = frappe.get_doc(\"Customer\", doc.customer) %}\n                    {{ frappe.utils.get_link_to_form('Customer', doc.customer) }}\n                {% elif not doc.customer and doc.issue %}\n                    {% if thisissue.customer %}\n                        {{ frappe.utils.get_link_to_form('Customer', thisissue.customer) }}\n                    {% else %}\n                        {{ \"None\" }}\n                    {% endif %}\n                {% else %}\n                    {{ \"None\" }}\n                {% endif %}\n            </div>\n        </div>\n        <div class=\"black-box\" id=\"timesheet-number\">\n            <div class=\"yellow-bar\">\n                Timesheet Number\n            </div>\n            <div class=\"box-content-center\">{{ frappe.utils.get_link_to_form(doc.doctype, doc.name) }}</div>\n        </div>\n    </div>\n</div>\n<div class=\"middle-section\">\n    <div class=\"middle-black-box\">\n        <table id=\"log\" class=\"layout-table\">\n            <tbody>\n                <tr class=\"layout-row\">\n                    <td class=\"layout-cell\" id=\"log-activity-type\">\n                        <div class=\"yellow-head-left\" style=\"border-top-left-radius: 2px; border-bottom-left-radius: 2px;\">\n                            Activity Type\n                        </div>\n                    </td>\n                    <td class=\"layout-cell\" id=\"log-time-spent\">\n                        <div class=\"yellow-head-right\">\n                            Time Spent\n                        </div>\n                    </td>\n                    <td class=\"layout-cell\" id=\"log-project\">\n                        <div class=\"yellow-head-left\">\n                            Project\n                        </div>\n                    </td>\n                    <td class=\"layout-cell\" id=\"log-task\">\n                        <div class=\"yellow-head-left\">\n                            Task\n                        </div>\n                    </td>\n                    <td class=\"layout-cell\" id=\"log-billing\">\n                        <div class=\"yellow-head-right\">\n                            Billing\n                        </div>\n                    </td>\n                    <td class=\"layout-cell\" id=\"log-costing\">\n                        <div class=\"yellow-head-right\" style=\"border-top-right-radius: 2px; border-bottom-right-radius: 2px;\">\n                            Costing\n                        </div>\n                    </td>\n                </tr>\n\n{% endmacro %}\n\n{% macro pagefooter() %}\n            </tbody>\n        </table>\n    </div>\n</div>\n<div id=\"note-and-space\">\n    {% if doc.note %}<div class=\"showmore\" style=\"width: 33px !important;\"><img src=\"/files/note-icon-30.jpg\"><span class=\"showmoretext\">{{ doc.note | replace('<br>',' ') | truncate(350,true) }}</span></div>{% endif %}\n</div>\n<div>\n    <div class=\"section\">\n        <p class=\"summary\">Timesheet Summary</p>\n        <table class=\"layout-table\">\n            <tbody>\n                <tr class=\"layout-row\">\n                    <td class=\"layout-cell\" id=\"summary1\">\n                        Billable Hours:\n                    </td>\n                    <td class=\"layout-cell\" id=\"summary2\">\n                        {% if doc.total_billable_hours is divisibleby(1) %}{{ doc.total_billable_hours | int }}{% else %}{{ doc.total_billable_hours | round(2, 'common') }}{% endif %}\n                    </td>\n                    <td class=\"layout-cell\" id=\"summaryS\">\n                        \n                    </td>\n                    <td class=\"layout-cell\" id=\"summary1\">\n                        Billed Hours:\n                    </td>\n                    <td class=\"layout-cell\" id=\"summary2\">\n                        {% if doc.total_billed_hours is divisibleby(1) %}{{ doc.total_billed_hours | int }}{% else %}{{ doc.total_billed_hours | round(2, 'common') }}{% endif %}\n                    </td>\n                    <td class=\"layout-cell\" id=\"summaryS\">\n                        \n                    </td>\n                </tr>\n                <tr class=\"layout-row\">\n                    <td class=\"layout-cell\" id=\"summary1\">\n                        Billable Amount:\n                    </td>\n                    <td class=\"layout-cell\" id=\"summary2\">\n                        {{ \"{:,.2f}\".format(doc.total_billable_amount) }}\n                    </td>\n                    <td class=\"layout-cell\" id=\"summaryS\">\n                        \n                    </td>\n                    <td class=\"layout-cell\" id=\"summary1\">\n                        Billed Amount:\n                    </td>\n                    <td class=\"layout-cell\" id=\"summary2\">\n                        {{ \"{:,.2f}\".format(doc.total_billed_amount) }}\n                    </td>\n                    <td class=\"layout-cell\" id=\"summaryS\">\n                        \n                    </td>\n                </tr>\n                <tr class=\"layout-row\">\n                    <td class=\"layout-cell\" id=\"summary1\">\n                        Percent Billed:\n                    </td>\n                    <td class=\"layout-cell\" id=\"summary2\">\n                        {% if doc.per_billed is divisibleby(1) %}{{ doc.per_billed | int }}{% else %}{{ doc.per_billed | round(2, 'common') }}{% endif %}%\n                    </td>\n                    <td class=\"layout-cell\" id=\"summaryS\">\n                        \n                    </td>\n                    <td class=\"layout-cell\" id=\"summaryT1\">\n                        Total Time:\n                    </td>\n                    <td class=\"layout-cell\" id=\"summaryT2\">\n\n                        {% set summary_seconds = doc.total_hours * 3600 %}\n                        {% set summary_hours = doc.total_hours | round(0, 'floor') %}\n                        {% set rounded_summary_hours = summary_hours * 3600 %}\n                        {% set rem_summary_seconds = summary_seconds - rounded_summary_hours %}\n                        {% set float_summary_seconds = rem_summary_seconds / 60 %}\n                        {% set summary_minutes = float_summary_seconds | round(0, 'common') %}\n\n                        {% if summary_hours > 0 %}{{ summary_hours | int }}h {% endif %}{% if summary_minutes > 0 %}{{ summary_minutes | int }}m{% endif %}\n                    </td>\n                    <td class=\"layout-cell\" id=\"summaryS\">\n                        \n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n{% endmacro %}\n\n{{ pageheader() }}\n\n{% for log in doc.time_logs %}\n    \n    {% set total_seconds = log.hours * 3600 %}\n    {% set allhours = log.hours | round(0, 'floor') %}\n    {% set rounded_hours = allhours * 3600 %}\n    {% set rem_seconds = total_seconds - rounded_hours %}\n    {% set float_seconds = rem_seconds / 60 %}\n    {% set allminutes = float_seconds | round(0, 'common') %}\n\n    {% if log.from_time %}\n        {% set time_stamp = frappe.utils.get_datetime(log.from_time) %}\n        {% if time_stamp.weekday() == 5 or time_stamp.weekday() == 6 %}\n            {% set row_style = 'style=\\\"background-color: #bed6ff; border-bottom: 1px solid #959595;\\\"' %}\n        {% else %}\n            {% set row_style = 'style=\\\"border-bottom: 1px solid #959595;\\\"' %}\n        {% endif %}\n    {% else %}\n        {% set row_style = 'style=\\\"border-bottom: 1px solid #959595;\\\"' %}\n    {% endif %}\n   \n    <tr class=\"layout-row\" {{ row_style }}>\n        <td class=\"layout-cell\">\n            {% if log.description %}\n                <div class=\"cell-content-left\">\n                    <div class=\"showmore\">\n                        {{ log.activity_type }}\n                        <span class=\"showmoretext\" style=\"color: #c8c8c8 !important;\">{{ log.description | replace('<br>',' ') | truncate(350,true) }}</span>\n                    </div>\n                </div>\n            {% else %}\n                <div class=\"cell-content-left\">{{ log.activity_type }}</div>\n            {% endif %}\n        </td>\n        <td class=\"layout-cell\">\n            <div class=\"cell-content-right\">\n                <div class=\"showmore\">\n                    {% if allhours > 0 %}{{ allhours | int }}h {% endif %}{% if allminutes > 0 %}{{ allminutes | int }}m{% endif %}\n                    {% if log.from_time %}\n                        {% set todo_from = log.from_time | string %}\n                        {% set split_date_time = todo_from.split(' ') %}\n                        {% set split_start_date = split_date_time[0] %} \n                        {% set split_start_time = split_date_time[1] %}\n                    {% endif %}\n                    {% if log.to_time %}\n                        {% set todo_to = log.to_time | string %}\n                        {% set split_date_time = todo_to.split(' ') %}\n                        {% set split_end_date = split_date_time[0] %} \n                        {% set split_end_time = split_date_time[1] %}\n                    {% endif %}\n                    <span class=\"showmoretext\">\n                        {% if split_start_date and split_end_date and split_start_time and split_end_time %}\n                            {% if split_start_date == split_end_date %}\n                                {{ frappe.utils.formatdate(split_start_date, 'dd-MM-yyyy') }}<hr>\n                                {{ split_start_time }} &#8594; {{ split_end_time }}\n                            {% else %}\n                                {{ frappe.utils.formatdate(split_start_date, 'dd-MM-yyyy') }} {{ split_start_time }}\n                                <br>&#8595;<br>\n                                {{ frappe.utils.formatdate(split_end_date, 'dd-MM-yyyy') }} {{ split_end_time }}\n                            {% endif %}\n                        {% endif %}\n                    </span>\n                </div>\n            </div>\n        </td>\n        <td class=\"layout-cell\">\n            <div class=\"cell-content-left\">{% if log.project %}{{ frappe.utils.get_link_to_form('Project', log.project) }}{% endif %}</div>\n        </td>\n        <td class=\"layout-cell\">\n            <div class=\"cell-content-left\">\n                {% if log.task %}\n                    {% set thistask = frappe.get_doc(\"Task\", log.task) %}\n                    {% if thistask.subject %}\n                        <div class=\"showmore\">\n                            {{ frappe.utils.get_link_to_form('Task', log.task) }}\n                            <span class=\"showmoretext\">{{ thistask.subject }}</span>\n                        </div>\n                    {% else %}\n                        {{ log.task }}\n                    {% endif %}\n                {% endif %}\n            </div>\n        </td>\n        <td class=\"layout-cell\">\n            <div class=\"cell-content-right\">{% if log.billing_amount %}{{ \"{:,.2f}\".format(log.billing_amount) }}{% endif %}</div>\n        </td>\n        <td class=\"layout-cell\">\n            <div class=\"cell-content-right\">{% if log.costing_amount %}{{ \"{:,.2f}\".format(log.costing_amount) }}{% endif %}</div>\n        </td>\n    </tr>\n{% endfor %}\n\n{{ pagefooter() }}\n\n",
  "line_breaks": 0,
  "modified": "2020-09-29 10:56:10.403703",
  "module": "Projects",
  "name": "Eskill Timesheet",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "print_format_builder": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "Yes"
 }
]