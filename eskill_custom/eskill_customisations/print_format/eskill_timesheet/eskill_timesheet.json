{
 "align_labels_right": 0,
 "creation": "2020-10-14 14:47:20.039514",
 "css": "@font-face {\n\tfont-family: DaxlinePro;\n\tfont-style: normal;\n\tfont-weight: 300;\n\tsrc: url(/fonts/DaxlinePro.ttf);\n}\n\n@font-face {\n\tfont-family: Neuropol;\n\tfont-style: normal;\n\tfont-weight: 300;\n\tsrc: url(/fonts/NeuropolXRG.ttf);\n}\n\n@font-face {\n    font-family: 'Atlanta';\n    src: url(/fonts/Atlanta-Book.woff2) format('woff2'),\n        url(/fonts/Atlanta-Book.woff) format('woff'),\n        url(/fonts/Atlanta-Book.ttf) format('truetype');\n    font-weight: normal;\n    font-style: normal;\n    font-display: swap;\n}\n\n.print-format { \n    padding: 0mm !important;\n    font-family: 'Atlanta';\n}\n\nbody, p, span, div, element {\n    color: #474c51;\n    letter-spacing: normal !important;\n}\n\n#header-image {\n    background-image: url(/files/Eskill_Header.jpg);\n    display: table;\n    width: 100%;\n    background-size: 211mm;\n    background-repeat: no-repeat;\n    height: 18mm;\n    background-position: left top;\n    padding-top: 7mm !important;\n}\n\n#print-heading {\n    font-family: DaxlinePro;\n    font-size: 18pt;\n    font-weight: bold;\n    line-height: 1;\n    padding: 0mm !important;\n    margin-top: 4mm !important;\n    margin-right: 6mm !important;\n    margin-bottom: 3mm !important;\n    text-align: right;\n}\n\n.section {\n    margin-left: 7mm;\n    margin-right: 7mm;\n    display: table;\n    border-collapse: separate;\n    border-spacing: 1mm;\n    width: 197mm !important;\n}\n\n.layout-div {\n    margin: 0 !important;\n    padding: 0 !important;\n    width: 100% !important;\n}\n\n.black-box {\n    border: 1px solid #474c51;\n    border-radius: 3px;\n    padding: 0.5mm;\n    width: auto;\n    height: auto;\n    min-height: 12mm;\n    display: table-cell;\n}\n\n.yellow-bar {\n    background-color: #ffbc1f;\n    border-radius: 2px;\n    width: 100%;\n    text-align: center;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #252525;\n}\n\n.box-content-left {\n    padding: 1mm;\n    font-size: 9pt;\n    text-align: left;\n    width: 100%;\n}\n\n.box-content-center {\n    padding: 1mm;\n    font-size: 9pt;\n    text-align: center;\n    width: 100%;\n}\n\n.box-content-right {\n    padding: 1mm;\n    font-size: 9pt;\n    text-align: right;\n    width: 100%;\n}\n\n.showmore {\n  position: relative;\n  display: inline-block;\n  text-decoration-line: underline;\n  text-decoration-style: dotted;\n  width: 100%;\n}\n\n.showmore .showmoretext, div.showmore span.showmoretext {\n  visibility: hidden;\n  width: 200px;\n  background-color: black;\n  text-align: center;\n  border-radius: 6px;\n  padding: 5px 5px;\n  position: absolute;\n  z-index: 1;\n  bottom: 150%;\n  left: 50%;\n  margin-left: -100px;\n  color: #c8c8c8 !important;\n}\n\n.showmore .showmoretext div, .showmore .showmoretext span, .showmore .showmoretext element {\n  color: #c8c8c8 !important;\n}\n\n.showmore .showmoretext::after {\n  content: \"\";\n  position: absolute;\n  top: 100%;\n  left: 50%;\n  margin-left: -5px;\n  border-width: 5px;\n  border-style: solid;\n  border-color: black transparent transparent transparent;\n}\n\n.showmore:hover .showmoretext {\n  visibility: visible;\n}\n\nhr {\n    margin: 2mm;\n}\n\n#customer-name, #issue {\n    width: 40%;\n}\n\n#timesheet-number {\n    width: 20%;\n}\n\n#hours {\n    width: 5%;\n}\n\n#amount {\n    width: 10%;\n}\n\n.middle-section {\n\n}\n\n.middle-black-box {\n    border: 1px solid #474c51;\n    border-radius: 3px;\n    padding: 0.5mm;\n    height: auto;\n    margin: 0 8mm;\n    width: 195mm !important;\n}\n\n.layout-table, .layout-row, .layout-div {\n    margin: 0 !important;\n    padding: 0 !important;\n    width: 100% !important;\n}\n\n.layout-cell {\n    margin: 0 !important;\n    padding: 0 !important;\n    height: 100%;\n    vertical-align: middle;\n}\n\n#log-activity-type div, #log-time-spent div, #log-project div, #log-task div, #log-billing div, #log-costing div { \n    overflow: hidden;\n    max-height: 12pt;\n    height: 12pt;\n}\n\n#log {\n    table-layout: fixed;\n}\n\n#log-activity-type { width: 27% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#log-time-spent { width: 10% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#log-project { width: 27% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#log-task { width: 16% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#log-billing { width: 10% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#log-costing { width: 10% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n\n.yellow-head-center {\n    background-color: #ffbc1f;\n    width: 100%;\n    text-align: center;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #2a2a2a;\n    padding: 0 5px 0 5px;\n}\n\n.yellow-head-left {\n    background-color: #ffbc1f;\n    width: 100%;\n    text-align: left;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #2a2a2a;\n    padding: 0 5px 0 5px;\n}\n\n.yellow-head-right {\n    background-color: #ffbc1f;\n    width: 100%;\n    text-align: right;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #2a2a2a;\n    padding: 0 5px 0 5px;\n}\n\n.cell-content-center {\n    width: 100%;\n    text-align: center;\n    line-height: 1.5;\n    font-size: 8pt !important;\n    font-weight: normal;\n    padding: 0 5px 0 5px;\n}\n\n.cell-content-left {\n    width: 100%;\n    text-align: left;\n    line-height: 1.5;\n    font-size: 8pt !important;\n    font-weight: normal;\n    padding: 0 5px 0 5px;\n}\n\n.cell-content-right {\n    width: 100%;\n    text-align: right;\n    line-height: 1.5;\n    font-size: 8pt !important;\n    font-weight: normal;\n    padding: 0 5px 0 5px;\n}\n\n.summary {\n    font-weight: bold;\n    text-decoration: underline;\n    text-align: left;\n    color: #474c51;\n}\n\n#summary1 {\n    width: 15%;\n    text-align: left;\n    color: #474c51;\n}\n\n#summary2 {\n    width: 15%;\n    text-align: right;\n    color: #474c51;\n}\n\nsummaryS {\n    width: 20%;\n}\n\n#summaryT1 {\n    width: 15%;\n    text-align: left;\n    font-weight: bold;\n    color: #474c51;\n}\n\n#summaryT2 {\n    width: 15%;\n    text-align: right;\n    font-weight: bold;\n    color: #474c51;\n}\n\n#note-and-space {\n    text-align: right;\n    height: 10mm;\n    min-height: 10mm;\n    max-height: 10mm;\n    margin: 0 7mm;\n    width: 197mm;\n}",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Timesheet",
 "docstatus": 0,
 "doctype": "Print Format",
 "font": "Default",
 "html": "{% macro pageheader() %}\n\n<div id=\"header-image\" class=\"layout-div\">\n    <div id=\"print-heading\">{{ doc.employee_name }}<br>\n        {% if doc.start_date and doc.end_date %}\n            {% if doc.start_date == doc.end_date %}\n                {{ frappe.utils.formatdate(doc.start_date, 'dd-MM-yyyy') }}\n            {% else %}\n                {{ frappe.utils.formatdate(doc.start_date, 'dd-MM-yyyy') }}\n                &#8594;\n                {{ frappe.utils.formatdate(doc.end_date, 'dd-MM-yyyy') }}\n            {% endif %}\n        {% endif %}\n    </div>\n</div>\n\n<div>\n    <div class=\"section\">\n        <div class=\"black-box\" id=\"issue\">\n            <div class=\"yellow-bar\">\n                Issue\n            </div>\n            <div class=\"box-content-center\">\n                {% if doc.issue %}\n                    <div class=\"showmore\">\n                        {{ frappe.utils.get_link_to_form('Issue', doc.issue) }}\n                        {% set thisissue = frappe.get_doc(\"Issue\", doc.issue) %}\n                        <span class=\"showmoretext\">{{ thisissue.subject | replace('<br>',' ') | truncate(250,true) }}</span>\n                    </div>\n                {% else %}\n                    {{ \"None\" }}\n                {% endif %}\n            </div>\n        </div>\n        <div class=\"black-box\" id=\"customer-name\">\n            <div class=\"yellow-bar\">\n                Customer\n            </div>\n            <div class=\"box-content-center\">\n                {% if doc.customer %}\n                    {% set thiscustomer = frappe.get_doc(\"Customer\", doc.customer) %}\n                    {{ frappe.utils.get_link_to_form('Customer', doc.customer) }}\n                {% elif not doc.customer and doc.issue %}\n                    {% if thisissue.customer %}\n                        {{ frappe.utils.get_link_to_form('Customer', thisissue.customer) }}\n                    {% else %}\n                        {{ \"None\" }}\n                    {% endif %}\n                {% else %}\n                    {{ \"None\" }}\n                {% endif %}\n            </div>\n        </div>\n        <div class=\"black-box\" id=\"timesheet-number\">\n            <div class=\"yellow-bar\">\n                Timesheet Number\n            </div>\n            <div class=\"box-content-center\">{{ frappe.utils.get_link_to_form(doc.doctype, doc.name) }}</div>\n        </div>\n    </div>\n</div>\n<div class=\"middle-section\">\n    <div class=\"middle-black-box\">\n        <table id=\"log\" class=\"layout-table\">\n            <tbody>\n                <tr class=\"layout-row\">\n                    <td class=\"layout-cell\" id=\"log-activity-type\">\n                        <div class=\"yellow-head-left\" style=\"border-top-left-radius: 2px; border-bottom-left-radius: 2px;\">\n                            Activity Type\n                        </div>\n                    </td>\n                    <td class=\"layout-cell\" id=\"log-time-spent\">\n                        <div class=\"yellow-head-right\">\n                            Time Spent\n                        </div>\n                    </td>\n                    <td class=\"layout-cell\" id=\"log-project\">\n                        <div class=\"yellow-head-left\">\n                            Project\n                        </div>\n                    </td>\n                    <td class=\"layout-cell\" id=\"log-task\">\n                        <div class=\"yellow-head-left\">\n                            Task\n                        </div>\n                    </td>\n                    <td class=\"layout-cell\" id=\"log-billing\">\n                        <div class=\"yellow-head-right\">\n                            Billing\n                        </div>\n                    </td>\n                    <td class=\"layout-cell\" id=\"log-costing\">\n                        <div class=\"yellow-head-right\" style=\"border-top-right-radius: 2px; border-bottom-right-radius: 2px;\">\n                            Costing\n                        </div>\n                    </td>\n                </tr>\n\n{% endmacro %}\n\n{% macro pagefooter() %}\n            </tbody>\n        </table>\n    </div>\n</div>\n<div id=\"note-and-space\">\n    {% if doc.note %}<div class=\"showmore\" style=\"width: 33px !important;\"><img src=\"/files/note-icon-30.jpg\"><span class=\"showmoretext\">{{ doc.note | replace('<br>',' ') | truncate(350,true) }}</span></div>{% endif %}\n</div>\n<div>\n    <div class=\"section\">\n        <p class=\"summary\">Timesheet Summary</p>\n        <table class=\"layout-table\">\n            <tbody>\n                <tr class=\"layout-row\">\n                    <td class=\"layout-cell\" id=\"summary1\">\n                        Billable Hours:\n                    </td>\n                    <td class=\"layout-cell\" id=\"summary2\">\n                        {% if doc.total_billable_hours is divisibleby(1) %}{{ doc.total_billable_hours | int }}{% else %}{{ doc.total_billable_hours | round(2, 'common') }}{% endif %}\n                    </td>\n                    <td class=\"layout-cell\" id=\"summaryS\">\n                        \n                    </td>\n                    <td class=\"layout-cell\" id=\"summary1\">\n                        Billed Hours:\n                    </td>\n                    <td class=\"layout-cell\" id=\"summary2\">\n                        {% if doc.total_billed_hours is divisibleby(1) %}{{ doc.total_billed_hours | int }}{% else %}{{ doc.total_billed_hours | round(2, 'common') }}{% endif %}\n                    </td>\n                    <td class=\"layout-cell\" id=\"summaryS\">\n                        \n                    </td>\n                </tr>\n                <tr class=\"layout-row\">\n                    <td class=\"layout-cell\" id=\"summary1\">\n                        Billable Amount:\n                    </td>\n                    <td class=\"layout-cell\" id=\"summary2\">\n                        {{ \"{:,.2f}\".format(doc.total_billable_amount) }}\n                    </td>\n                    <td class=\"layout-cell\" id=\"summaryS\">\n                        \n                    </td>\n                    <td class=\"layout-cell\" id=\"summary1\">\n                        Billed Amount:\n                    </td>\n                    <td class=\"layout-cell\" id=\"summary2\">\n                        {{ \"{:,.2f}\".format(doc.total_billed_amount) }}\n                    </td>\n                    <td class=\"layout-cell\" id=\"summaryS\">\n                        \n                    </td>\n                </tr>\n                <tr class=\"layout-row\">\n                    <td class=\"layout-cell\" id=\"summary1\">\n                        Percent Billed:\n                    </td>\n                    <td class=\"layout-cell\" id=\"summary2\">\n                        {% if doc.per_billed is divisibleby(1) %}{{ doc.per_billed | int }}{% else %}{{ doc.per_billed | round(2, 'common') }}{% endif %}%\n                    </td>\n                    <td class=\"layout-cell\" id=\"summaryS\">\n                        \n                    </td>\n                    <td class=\"layout-cell\" id=\"summaryT1\">\n                        Total Time:\n                    </td>\n                    <td class=\"layout-cell\" id=\"summaryT2\">\n\n                        {% set summary_seconds = doc.total_hours * 3600 %}\n                        {% set summary_hours = doc.total_hours | round(0, 'floor') %}\n                        {% set rounded_summary_hours = summary_hours * 3600 %}\n                        {% set rem_summary_seconds = summary_seconds - rounded_summary_hours %}\n                        {% set float_summary_seconds = rem_summary_seconds / 60 %}\n                        {% set summary_minutes = float_summary_seconds | round(0, 'common') %}\n\n                        {% if summary_hours > 0 %}{{ summary_hours | int }}h {% endif %}{% if summary_minutes > 0 %}{{ summary_minutes | int }}m{% endif %}\n                    </td>\n                    <td class=\"layout-cell\" id=\"summaryS\">\n                        \n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n{% endmacro %}\n\n{{ pageheader() }}\n\n{% for log in doc.time_logs %}\n    \n    {% set total_seconds = log.hours * 3600 %}\n    {% set allhours = log.hours | round(0, 'floor') %}\n    {% set rounded_hours = allhours * 3600 %}\n    {% set rem_seconds = total_seconds - rounded_hours %}\n    {% set float_seconds = rem_seconds / 60 %}\n    {% set allminutes = float_seconds | round(0, 'common') %}\n\n    {% if log.from_time %}\n        {% set time_stamp = frappe.utils.get_datetime(log.from_time) %}\n        {% if time_stamp.weekday() == 5 or time_stamp.weekday() == 6 %}\n            {% set row_style = 'style=\\\"background-color: #bed6ff; border-bottom: 1px solid #959595;\\\"' %}\n        {% else %}\n            {% set row_style = 'style=\\\"border-bottom: 1px solid #959595;\\\"' %}\n        {% endif %}\n    {% else %}\n        {% set row_style = 'style=\\\"border-bottom: 1px solid #959595;\\\"' %}\n    {% endif %}\n   \n    <tr class=\"layout-row\" {{ row_style }}>\n        <td class=\"layout-cell\">\n            {% if log.description %}\n                <div class=\"cell-content-left\">\n                    <div class=\"showmore\">\n                        {{ log.activity_type }}\n                        <span class=\"showmoretext\" style=\"color: #c8c8c8 !important;\">{{ log.description | replace('<br>',' ') | truncate(350,true) }}</span>\n                    </div>\n                </div>\n            {% else %}\n                <div class=\"cell-content-left\">{{ log.activity_type }}</div>\n            {% endif %}\n        </td>\n        <td class=\"layout-cell\">\n            <div class=\"cell-content-right\">\n                <div class=\"showmore\">\n                    {% if allhours > 0 %}{{ allhours | int }}h {% endif %}{% if allminutes > 0 %}{{ allminutes | int }}m{% endif %}\n                    {% if log.from_time %}\n                        {% set todo_from = log.from_time | string %}\n                        {% set split_date_time = todo_from.split(' ') %}\n                        {% set split_start_date = split_date_time[0] %} \n                        {% set split_start_time = split_date_time[1] %}\n                    {% endif %}\n                    {% if log.to_time %}\n                        {% set todo_to = log.to_time | string %}\n                        {% set split_date_time = todo_to.split(' ') %}\n                        {% set split_end_date = split_date_time[0] %} \n                        {% set split_end_time = split_date_time[1] %}\n                    {% endif %}\n                    <span class=\"showmoretext\">\n                        {% if split_start_date and split_end_date and split_start_time and split_end_time %}\n                            {% if split_start_date == split_end_date %}\n                                {{ frappe.utils.formatdate(split_start_date, 'dd-MM-yyyy') }}<hr>\n                                {{ split_start_time }} &#8594; {{ split_end_time }}\n                            {% else %}\n                                {{ frappe.utils.formatdate(split_start_date, 'dd-MM-yyyy') }} {{ split_start_time }}\n                                <br>&#8595;<br>\n                                {{ frappe.utils.formatdate(split_end_date, 'dd-MM-yyyy') }} {{ split_end_time }}\n                            {% endif %}\n                        {% endif %}\n                    </span>\n                </div>\n            </div>\n        </td>\n        <td class=\"layout-cell\">\n            <div class=\"cell-content-left\">{% if log.project %}{{ frappe.utils.get_link_to_form('Project', log.project) }}{% endif %}</div>\n        </td>\n        <td class=\"layout-cell\">\n            <div class=\"cell-content-left\">\n                {% if log.task %}\n                    {% set thistask = frappe.get_doc(\"Task\", log.task) %}\n                    {% if thistask.subject %}\n                        <div class=\"showmore\">\n                            {{ frappe.utils.get_link_to_form('Task', log.task) }}\n                            <span class=\"showmoretext\">{{ thistask.subject }}</span>\n                        </div>\n                    {% else %}\n                        {{ log.task }}\n                    {% endif %}\n                {% endif %}\n            </div>\n        </td>\n        <td class=\"layout-cell\">\n            <div class=\"cell-content-right\">{% if log.billing_amount %}{{ \"{:,.2f}\".format(log.billing_amount) }}{% endif %}</div>\n        </td>\n        <td class=\"layout-cell\">\n            <div class=\"cell-content-right\">{% if log.costing_amount %}{{ \"{:,.2f}\".format(log.costing_amount) }}{% endif %}</div>\n        </td>\n    </tr>\n{% endfor %}\n\n{{ pagefooter() }}\n\n",
 "idx": 0,
 "line_breaks": 0,
 "modified": "2021-01-14 13:19:02.105939",
 "modified_by": "neil@eskilltrading.com",
 "module": "Eskill Customisations",
 "name": "Eskill Timesheet",
 "owner": "Administrator",
 "print_format_builder": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}